{"config":{"lang":["fr"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Cocktail ClicBoumPaf","text":"**Projet d'\u00e9tude DevSecOps avec GitFlow et d\u00e9ploiement Azure**"},{"location":"#a-propos","title":"\u00c0 propos","text":"<p>Projet p\u00e9dagogique con\u00e7u pour les \u00e9tudiants, centr\u00e9 sur l'apprentissage des pratiques DevSecOps modernes \u00e0 travers trois phases progressives :</p>"},{"location":"#phase-1-devsecops-gitflow-azure-arm","title":"Phase 1\ufe0f : DevSecOps GitFlow &amp; Azure ARM","text":"<p>D\u00e9ploiement d'une architecture 3-tiers (Client-Serveur) sur Azure avec :</p> <ul> <li>Pipelines CI/CD avec GitHub Actions</li> <li>Tests automatis\u00e9s (Backend, Frontend, E2E)</li> <li>Analyse de qualit\u00e9 (SonarQube)</li> <li>Scans de s\u00e9curit\u00e9 (Snyk, Trivy, OWASP ZAP)</li> <li>D\u00e9ploiement ARM sur Azure VM</li> <li>Strat\u00e9gie Canary Release</li> </ul>"},{"location":"#phase-2-gitops-kubernetes-a-venir","title":"Phase 2\ufe0f : GitOps &amp; Kubernetes (\u00c0 venir)","text":"<p>Migration vers une architecture Kubernetes avec d\u00e9ploiement GitOps</p>"},{"location":"#phase-3-microservices-a-venir","title":"Phase 3\ufe0f: Microservices (\u00c0 venir)","text":"<p>\u00c9volution vers une architecture microservices sur Kubernetes</p>"},{"location":"#demarrage-rapide","title":"D\u00e9marrage rapide","text":"<pre><code># Cloner le projet\ngit clone https://github.com/EfreiBdx/cocktail_base_3t.git\n\n# Lancer l'environnement local avec Docker\ndocker-compose up -d\n\n# Acc\u00e9der \u00e0 l'application\n# Frontend: http://localhost:80\n# Backend: http://localhost:12000\n</code></pre> <p>Guide d'installation complet</p>"},{"location":"#stack-technique","title":"Stack technique","text":""},{"location":"#frontend","title":"Frontend","text":"<ul> <li>React 19.0.0 - Interface utilisateur moderne</li> <li>React Router 7.1.5 - Routing c\u00f4t\u00e9 client</li> <li>Vite 6.1.0 - Build tool ultra-rapide</li> <li>Cypress 14.0.3 - Tests E2E</li> </ul>"},{"location":"#backend","title":"Backend","text":"<ul> <li>Express.js 4.19.2 - Framework web Node.js</li> <li>Sequelize 6.37.3 - ORM pour MySQL</li> <li>JWT - Authentification s\u00e9curis\u00e9e</li> <li>Jest - Tests unitaires</li> </ul>"},{"location":"#infrastructure","title":"Infrastructure","text":"<ul> <li>Docker &amp; Docker Compose - Conteneurisation</li> <li>Azure VM - H\u00e9bergement cloud</li> <li>MariaDB - Base de donn\u00e9es</li> <li>GitHub Actions - CI/CD</li> </ul>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>graph LR\n    A[Client Browser] --&gt;|HTTP/80| B[Frontend React]\n    B --&gt;|API Calls| C[Backend Express]\n    C --&gt;|ORM| D[MariaDB]\n\n    style A fill:#e1f5ff\n    style B fill:#bbdefb\n    style C fill:#90caf9\n    style D fill:#42a5f5</code></pre> <p>Architecture d\u00e9taill\u00e9e</p>"},{"location":"#pipeline-cicd","title":"Pipeline CI/CD","text":"<p>Le projet impl\u00e9mente deux pipelines principaux :</p>"},{"location":"#pipeline-dintegration-pull-request-develop","title":"Pipeline d'Int\u00e9gration (Pull Request \u2192 develop)","text":"<ol> <li>Tests - Backend (Jest) + Frontend (Cypress)</li> <li>Qualit\u00e9 - Analyse SonarQube</li> <li>S\u00e9curit\u00e9 - Scan Snyk des d\u00e9pendances</li> </ol>"},{"location":"#pipeline-canary-push-develop","title":"Pipeline Canary (Push \u2192 develop)","text":"<ol> <li>Build - Construction des images Docker</li> <li>Scan - Analyse Trivy des containers</li> <li>Deploy - D\u00e9ploiement Azure VM</li> <li>Security - Pentest OWASP ZAP</li> </ol> <p>Documentation CI/CD compl\u00e8te</p>"},{"location":"#securite","title":"S\u00e9curit\u00e9","text":"<p>Le projet int\u00e8gre plusieurs outils de s\u00e9curit\u00e9 :</p> Outil Phase Objectif Snyk Integration Vuln\u00e9rabilit\u00e9s des d\u00e9pendances Trivy Canary Scan des images Docker OWASP ZAP Canary Pentest de l'application d\u00e9ploy\u00e9e SonarQube Integration Qualit\u00e9 &amp; s\u00e9curit\u00e9 du code <p>Guide s\u00e9curit\u00e9</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Guide de d\u00e9marrage - Installation et premiers pas</li> <li>Architecture - Comprendre l'architecture du projet</li> <li>CI/CD &amp; DevSecOps - Pipelines et automatisation</li> <li>Infrastructure Azure - D\u00e9ploiement cloud</li> <li>D\u00e9veloppement - Guide pour les d\u00e9veloppeurs</li> <li>Troubleshooting - R\u00e9solution de probl\u00e8mes</li> </ul>"},{"location":"#contribuer","title":"Contribuer","text":"<p>Les contributions sont les bienvenues ! Consultez le guide de contribution.</p>"},{"location":"#license","title":"License","text":"<p>MIT License - Projet \u00e9ducatif</p>"},{"location":"contributing/","title":"Guide de contribution","text":"<p>Merci de vouloir contribuer au projet Cocktail ClicBoumPaf ! \ud83c\udf89</p> <p>Ce guide vous explique comment contribuer efficacement au projet.</p>"},{"location":"contributing/#types-de-contributions","title":"Types de contributions","text":"<p>Vous pouvez contribuer de plusieurs fa\u00e7ons :</p> <ul> <li>\ud83d\udc1b Correction de bugs</li> <li>\u2728 Nouvelles fonctionnalit\u00e9s</li> <li>\ud83d\udcdd Am\u00e9lioration de la documentation</li> <li>\ud83e\uddea Ajout de tests</li> <li>\ud83d\udd12 Am\u00e9liorations de s\u00e9curit\u00e9</li> <li>\u26a1 Optimisations de performance</li> <li>\ud83c\udfa8 Am\u00e9lioration de l'UI/UX</li> </ul>"},{"location":"contributing/#workflow-de-contribution","title":"Workflow de contribution","text":""},{"location":"contributing/#1-fork-clone","title":"1. Fork &amp; Clone","text":"<pre><code># Fork le repo sur GitHub, puis :\ngit clone git@github.com:VOTRE-USERNAME/cocktail_base_3t.git\ncd cocktail_base_3t\n\n# Ajouter l'upstream\ngit remote add upstream git@github.com:EfreiBdx/cocktail_base_3t.git\n</code></pre>"},{"location":"contributing/#2-creer-une-branche","title":"2. Cr\u00e9er une branche","text":"<p>Suivez la convention GitFlow :</p> <pre><code># Pour une nouvelle fonctionnalit\u00e9\ngit checkout -b feature/ma-super-feature develop\n\n# Pour un bugfix\ngit checkout -b fix/correction-bug develop\n\n# Pour de la documentation\ngit checkout -b docs/amelioration-doc develop\n</code></pre> <p>Convention de nommage :</p> <ul> <li><code>feature/</code> : Nouvelles fonctionnalit\u00e9s</li> <li><code>fix/</code> : Corrections de bugs</li> <li><code>docs/</code> : Documentation</li> <li><code>refactor/</code> : Refactoring</li> <li><code>test/</code> : Ajout de tests</li> <li><code>chore/</code> : Maintenance, config</li> </ul>"},{"location":"contributing/#3-developper","title":"3. D\u00e9velopper","text":"<pre><code># Installer les d\u00e9pendances\nnpm install\n\n# Lancer en mode dev\nnpm run dev\n\n# Lancer les tests\nnpm test\n</code></pre>"},{"location":"contributing/#4-committer","title":"4. Committer","text":"<p>Suivez la convention Conventional Commits :</p> <pre><code># Format\n&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;\n\n# Exemples\ngit commit -m \"feat(backend): add user authentication endpoint\"\ngit commit -m \"fix(frontend): correct login form validation\"\ngit commit -m \"docs(readme): update installation instructions\"\ngit commit -m \"test(api): add tests for user routes\"\n</code></pre> <p>Types de commits :</p> <ul> <li><code>feat</code>: Nouvelle fonctionnalit\u00e9</li> <li><code>fix</code>: Correction de bug</li> <li><code>docs</code>: Documentation</li> <li><code>style</code>: Formatage (pas de changement de logique)</li> <li><code>refactor</code>: Refactoring</li> <li><code>test</code>: Ajout de tests</li> <li><code>chore</code>: Maintenance</li> </ul>"},{"location":"contributing/#5-push-pull-request","title":"5. Push &amp; Pull Request","text":"<pre><code># Push vers votre fork\ngit push origin feature/ma-super-feature\n\n# Cr\u00e9er une Pull Request sur GitHub\n</code></pre>"},{"location":"contributing/#checklist-avant-pr","title":"Checklist avant PR","text":"<p>Avant de soumettre votre Pull Request, assurez-vous que :</p>"},{"location":"contributing/#code","title":"Code","text":"<ul> <li>[ ] Le code suit les conventions du projet</li> <li>[ ] Les tests passent : <code>npm test</code></li> <li>[ ] Pas d'erreurs ESLint : <code>npm run lint</code></li> <li>[ ] Le code est comment\u00e9 si n\u00e9cessaire</li> <li>[ ] Pas de <code>console.log()</code> oubli\u00e9s</li> <li>[ ] Pas de code comment\u00e9</li> </ul>"},{"location":"contributing/#tests","title":"Tests","text":"<ul> <li>[ ] Tests unitaires ajout\u00e9s pour le nouveau code</li> <li>[ ] Tests E2E ajout\u00e9s si n\u00e9cessaire</li> <li>[ ] Coverage maintenu &gt; 80%</li> </ul>"},{"location":"contributing/#documentation","title":"Documentation","text":"<ul> <li>[ ] README mis \u00e0 jour si n\u00e9cessaire</li> <li>[ ] Commentaires JSDoc pour les nouvelles fonctions</li> <li>[ ] CHANGELOG.md mis \u00e0 jour</li> </ul>"},{"location":"contributing/#commit","title":"Commit","text":"<ul> <li>[ ] Messages de commit clairs et descriptifs</li> <li>[ ] Convention Conventional Commits respect\u00e9e</li> <li>[ ] Commits atomiques (1 commit = 1 logique)</li> </ul>"},{"location":"contributing/#template-de-pull-request","title":"Template de Pull Request","text":"<p>Utilisez ce template pour vos PR :</p> <pre><code>## Description\nBr\u00e8ve description de ce que fait cette PR\n\n## Type de changement\n- [ ] Bug fix\n- [ ] Nouvelle fonctionnalit\u00e9\n- [ ] Breaking change\n- [ ] Documentation\n\n## Motivation et contexte\nPourquoi ce changement est n\u00e9cessaire ? Quel probl\u00e8me r\u00e9sout-il ?\n\nIssue li\u00e9e : #(num\u00e9ro)\n\n## Comment a-t-il \u00e9t\u00e9 test\u00e9 ?\nD\u00e9crivez les tests effectu\u00e9s :\n- [ ] Tests unitaires\n- [ ] Tests E2E\n- [ ] Tests manuels\n\n## Screenshots (si applicable)\nAjoutez des captures d'\u00e9cran si changement UI\n\n## Checklist\n- [ ] Mon code suit le style du projet\n- [ ] J'ai effectu\u00e9 une auto-review\n- [ ] J'ai comment\u00e9 les parties complexes\n- [ ] J'ai mis \u00e0 jour la documentation\n- [ ] Mes changements ne g\u00e9n\u00e8rent pas de warnings\n- [ ] J'ai ajout\u00e9 des tests\n- [ ] Tous les tests passent\n</code></pre>"},{"location":"contributing/#standards-de-code","title":"Standards de code","text":""},{"location":"contributing/#javascript-nodejs","title":"JavaScript / Node.js","text":"<pre><code>// Bon\nconst getUserById = async (id) =&gt; {\n  const user = await User.findByPk(id);\n  if (!user) {\n    throw new Error('User not found');\n  }\n  return user;\n};\n\n// Mauvais\nfunction getUser(id) {\n  return User.findByPk(id);\n}\n</code></pre> <p>Conventions :</p> <ul> <li>Utilisez <code>const</code> et <code>let</code> (jamais <code>var</code>)</li> <li>Arrow functions pour les callbacks</li> <li>async/await plut\u00f4t que promises</li> <li>Destructuring quand possible</li> <li>Template literals plut\u00f4t que concat\u00e9nation</li> </ul>"},{"location":"contributing/#react-frontend","title":"React / Frontend","text":"<pre><code>// Bon\nconst UserProfile = ({ user }) =&gt; {\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() =&gt; {\n    // Effect logic\n  }, [user]);\n\n  return (\n    &lt;div className=\"user-profile\"&gt;\n      &lt;h1&gt;{user.name}&lt;/h1&gt;\n    &lt;/div&gt;\n  );\n};\n\n// Mauvais\nclass UserProfile extends Component {\n  render() {\n    return &lt;div&gt;{this.props.user.name}&lt;/div&gt;;\n  }\n}\n</code></pre> <p>Conventions :</p> <ul> <li>Functional components uniquement</li> <li>Hooks pour le state et effects</li> <li>Props destructuring</li> <li>PropTypes ou TypeScript pour le typage</li> </ul>"},{"location":"contributing/#fichiers-et-dossiers","title":"Fichiers et dossiers","text":"<pre><code>backend/\n\u251c\u2500\u2500 api/\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2514\u2500\u2500 middlewares/\n\u2514\u2500\u2500 test/\n\nfrontend/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 pages/\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2514\u2500\u2500 api/\n\u2514\u2500\u2500 cypress/\n</code></pre>"},{"location":"contributing/#tests_1","title":"Tests","text":""},{"location":"contributing/#tests-backend-jest","title":"Tests Backend (Jest)","text":"<pre><code>describe('User API', () =&gt; {\n  describe('POST /api/users', () =&gt; {\n    it('should create a new user', async () =&gt; {\n      const res = await request(app)\n        .post('/api/users')\n        .send({\n          username: 'testuser',\n          email: 'test@example.com',\n          password: 'password123'\n        });\n\n      expect(res.status).toBe(201);\n      expect(res.body).toHaveProperty('id');\n      expect(res.body.username).toBe('testuser');\n    });\n  });\n});\n</code></pre>"},{"location":"contributing/#tests-frontend-cypress","title":"Tests Frontend (Cypress)","text":"<pre><code>describe('Login Page', () =&gt; {\n  beforeEach(() =&gt; {\n    cy.visit('/login');\n  });\n\n  it('should login successfully', () =&gt; {\n    cy.get('[data-testid=\"username\"]').type('testuser');\n    cy.get('[data-testid=\"password\"]').type('password123');\n    cy.get('[data-testid=\"submit\"]').click();\n\n    cy.url().should('include', '/dashboard');\n  });\n});\n</code></pre>"},{"location":"contributing/#review-process","title":"Review process","text":""},{"location":"contributing/#processus-de-review","title":"Processus de review","text":"<ol> <li>Automated checks : GitHub Actions v\u00e9rifie automatiquement :</li> <li>Tests backend</li> <li>Tests frontend</li> <li>Linting</li> <li>SonarQube</li> <li> <p>Snyk</p> </li> <li> <p>Code review : Un mainteneur review manuellement :</p> </li> <li>Qualit\u00e9 du code</li> <li>Pertinence des changements</li> <li>Tests ad\u00e9quats</li> <li> <p>Documentation</p> </li> <li> <p>Merge : Une fois approuv\u00e9e, la PR est merg\u00e9e dans <code>develop</code></p> </li> </ol>"},{"location":"contributing/#delai-de-review","title":"D\u00e9lai de review","text":"<ul> <li>Review initiale : &lt; 48h (jours ouvr\u00e9s)</li> <li>Feedback sur corrections : &lt; 24h</li> </ul>"},{"location":"contributing/#que-faire-si-ma-pr-est-rejetee","title":"Que faire si ma PR est rejet\u00e9e ?","text":"<ul> <li>Lisez attentivement les commentaires</li> <li>Posez des questions si besoin</li> <li>Effectuez les modifications demand\u00e9es</li> <li>Poussez les corrections</li> <li>Demandez une nouvelle review</li> </ul>"},{"location":"contributing/#signaler-un-bug","title":"\ud83d\udc1b Signaler un bug","text":""},{"location":"contributing/#via-github-issues","title":"Via GitHub Issues","text":"<ol> <li>V\u00e9rifiez qu'il n'existe pas d\u00e9j\u00e0</li> <li>Cr\u00e9ez une issue avec le template :</li> </ol> <p><pre><code>**Description du bug**\nCourte description du probl\u00e8me\n\n**Pour reproduire**\n1. Aller sur '...'\n2. Cliquer sur '...'\n3. Voir l'erreur\n\n**Comportement attendu**\nCe qui devrait se passer\n\n**Screenshots**\nSi applicable\n\n**Environnement**\n- OS: [e.g. Ubuntu 22.04]\n- Node: [e.g. 20.17.0]\n- Navigateur: [e.g. Chrome 120]\n\n**Logs**\n</code></pre> Logs d'erreur <pre><code>\n</code></pre></p>"},{"location":"contributing/#proposer-une-fonctionnalite","title":"Proposer une fonctionnalit\u00e9","text":"<ol> <li>Ouvrez une Discussion sur GitHub</li> <li>D\u00e9crivez :</li> <li>Le besoin</li> <li>La solution propos\u00e9e</li> <li>Les alternatives consid\u00e9r\u00e9es</li> <li>Attendez le feedback de la communaut\u00e9</li> <li>Si valid\u00e9, cr\u00e9ez une issue puis une PR</li> </ol>"},{"location":"contributing/#reconnaissance","title":"Reconnaissance","text":"<p>Les contributeurs sont list\u00e9s dans le README avec :</p> <ul> <li>Nombre de commits</li> <li>Type de contributions</li> <li>Lien vers leur profil</li> </ul>"},{"location":"contributing/#besoin-daide","title":"Besoin d'aide ?","text":"<ul> <li>Discord : (lien si disponible)</li> <li>Email : contact@example.com</li> <li>GitHub Issues : Pour les bugs</li> <li>GitHub Discussions : Pour les questions</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>En contribuant, vous acceptez de suivre notre Code of Conduct.</p> <p>Principes :</p> <ul> <li>Respectez les autres contributeurs</li> <li>Communiquez de mani\u00e8re constructive</li> <li>Aidez les d\u00e9butants</li> <li>Soyez inclusif</li> </ul>"},{"location":"architecture/overview/","title":"Architecture - Vue d'ensemble","text":"<p>Cette page pr\u00e9sente l'architecture globale du projet Cocktail ClicBoumPaf.</p>"},{"location":"architecture/overview/#architecture-3-tiers","title":"Architecture 3-tiers","text":"<p>Le projet suit une architecture 3-tiers classique s\u00e9parant pr\u00e9sentation, logique applicative et donn\u00e9es.</p> <pre><code>graph TB\n    subgraph \"Tier 1 - Pr\u00e9sentation\"\n        FE[Frontend React&lt;br/&gt;Port 80]\n    end\n\n    subgraph \"Tier 2 - Application\"\n        BE[Backend Express.js&lt;br/&gt;Port 12000]\n    end\n\n    subgraph \"Tier 3 - Donn\u00e9es\"\n        DB[(MariaDB&lt;br/&gt;Port 3306)]\n    end\n\n    U[\ud83d\udc64 Utilisateur] --&gt;|HTTP| FE\n    FE --&gt;|API REST| BE\n    BE --&gt;|SQL/ORM| DB\n\n    style U fill:#e3f2fd\n    style FE fill:#bbdefb\n    style BE fill:#90caf9\n    style DB fill:#64b5f6</code></pre>"},{"location":"architecture/overview/#composants-principaux","title":"Composants principaux","text":""},{"location":"architecture/overview/#frontend-react-application","title":"Frontend - React Application","text":"<p>Technologies :</p> <ul> <li>React 19.0.0 (UI library)</li> <li>React Router 7.1.5 (Routing)</li> <li>Vite 6.1.0 (Build tool)</li> <li>Axios (HTTP client)</li> </ul> <p>Responsabilit\u00e9s :</p> <ul> <li>Interface utilisateur</li> <li>Gestion de l'\u00e9tat (React hooks)</li> <li>Routing c\u00f4t\u00e9 client</li> <li>Communication API avec le backend</li> <li>Authentification (JWT storage)</li> </ul> <p>Structure :</p> <pre><code>frontend/src/\n\u251c\u2500\u2500 components/     # Composants r\u00e9utilisables\n\u251c\u2500\u2500 pages/          # Pages de l'application\n\u251c\u2500\u2500 hooks/          # Custom React hooks\n\u251c\u2500\u2500 utils/          # Fonctions utilitaires\n\u251c\u2500\u2500 api/            # Clients API\n\u2514\u2500\u2500 App.jsx         # Composant racine\n</code></pre>"},{"location":"architecture/overview/#backend-expressjs-api","title":"Backend - Express.js API","text":"<p>Technologies :</p> <ul> <li>Express.js 4.19.2 (Framework web)</li> <li>Sequelize 6.37.3 (ORM)</li> <li>JWT (Authentification)</li> <li>Bcrypt (Hash passwords)</li> </ul> <p>Responsabilit\u00e9s :</p> <ul> <li>API REST</li> <li>Logique m\u00e9tier</li> <li>Authentification &amp; autorisation</li> <li>Validation des donn\u00e9es</li> <li>Communication avec la BDD</li> </ul> <p>Structure :</p> <pre><code>backend/api/\n\u251c\u2500\u2500 controllers/    # Logique des endpoints\n\u251c\u2500\u2500 models/         # Mod\u00e8les Sequelize\n\u251c\u2500\u2500 routes/         # D\u00e9finition des routes\n\u251c\u2500\u2500 middlewares/    # Middlewares (auth, etc.)\n\u2514\u2500\u2500 config/         # Configuration (BDD, etc.)\n</code></pre>"},{"location":"architecture/overview/#base-de-donnees-mariadb","title":"Base de donn\u00e9es - MariaDB","text":"<p>Technologies :</p> <ul> <li>MariaDB latest</li> <li>Sequelize ORM</li> </ul> <p>Responsabilit\u00e9s :</p> <ul> <li>Stockage persistant</li> <li>Relations entre entit\u00e9s</li> <li>Contraintes d'int\u00e9grit\u00e9</li> </ul> <p>Sch\u00e9ma (exemple) :</p> <pre><code>CREATE TABLE users (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255) UNIQUE NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE cocktails (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    user_id INT,\n    FOREIGN KEY (user_id) REFERENCES users(id)\n);\n</code></pre>"},{"location":"architecture/overview/#flux-de-communication","title":"Flux de communication","text":""},{"location":"architecture/overview/#flux-dauthentification","title":"Flux d'authentification","text":"<pre><code>sequenceDiagram\n    actor User\n    participant FE as Frontend\n    participant BE as Backend\n    participant DB as Database\n\n    User-&gt;&gt;FE: Login (username, password)\n    FE-&gt;&gt;BE: POST /api/auth/login\n    BE-&gt;&gt;DB: SELECT user WHERE username = ?\n    DB--&gt;&gt;BE: User data\n    BE-&gt;&gt;BE: Verify password (bcrypt)\n    BE-&gt;&gt;BE: Generate JWT\n    BE--&gt;&gt;FE: JWT token\n    FE-&gt;&gt;FE: Store JWT (localStorage)\n    FE--&gt;&gt;User: Redirect to dashboard\n\n    Note over FE,BE: Requ\u00eates suivantes incluent le JWT\n\n    FE-&gt;&gt;BE: GET /api/users (Authorization: Bearer JWT)\n    BE-&gt;&gt;BE: Verify JWT\n    BE-&gt;&gt;DB: Query data\n    DB--&gt;&gt;BE: Results\n    BE--&gt;&gt;FE: JSON response</code></pre>"},{"location":"architecture/overview/#flux-api-classique","title":"Flux API classique","text":"<pre><code>sequenceDiagram\n    participant FE as Frontend\n    participant BE as Backend\n    participant DB as Database\n\n    FE-&gt;&gt;BE: GET /api/cocktails\n    BE-&gt;&gt;BE: Authenticate (JWT)\n    BE-&gt;&gt;BE: Authorize\n    BE-&gt;&gt;DB: SELECT * FROM cocktails\n    DB--&gt;&gt;BE: Results\n    BE-&gt;&gt;BE: Format response\n    BE--&gt;&gt;FE: JSON { cocktails: [...] }\n    FE-&gt;&gt;FE: Update UI (React state)</code></pre>"},{"location":"architecture/overview/#architecture-docker","title":"Architecture Docker","text":""},{"location":"architecture/overview/#containers","title":"Containers","text":"<pre><code>graph TB\n    subgraph \"Docker Network\"\n        C1[mono-front&lt;br/&gt;nginx:alpine]\n        C2[mono-back&lt;br/&gt;node:20-alpine]\n        C3[mono-bdd&lt;br/&gt;mariadb:latest]\n    end\n\n    C1 --&gt;|Port 80| EXT[Internet]\n    C2 --&gt;|Port 12000| EXT\n    C2 --&gt;|SQL| C3\n\n    V1[Volume&lt;br/&gt;./mysql] -.-&gt;|Persistence| C3\n\n    style C1 fill:#e8f5e9\n    style C2 fill:#c8e6c9\n    style C3 fill:#a5d6a7\n    style V1 fill:#fff9c4</code></pre>"},{"location":"architecture/overview/#docker-compose","title":"Docker Compose","text":"<pre><code>services:\n  mono-bdd:\n    image: mariadb:latest\n    volumes:\n      - ./mysql:/var/lib/mysql  # Persistence\n    environment:\n      MARIADB_ROOT_PASSWORD: TOOR\n      MARIADB_DATABASE: bddname\n      MARIADB_USER: roger\n      MARIADB_PASSWORD: regor\n    healthcheck:\n      test: ['CMD', '/usr/local/bin/healthcheck.sh']\n\n  mono-back:\n    image: ${MONO_PROJECT_BACK}\n    ports:\n      - 12000:12000\n    environment:\n      BDD_HOST: mono-bdd\n      BDD_PORT: 3306\n    depends_on:\n      mono-bdd:\n        condition: service_healthy  # Attend que la BDD soit pr\u00eate\n\n  mono-front:\n    image: ${MONO_PROJECT_FRONT}\n    ports:\n      - 80:80\n</code></pre>"},{"location":"architecture/overview/#architecture-azure-canary","title":"Architecture Azure (Canary)","text":""},{"location":"architecture/overview/#infrastructure-deployee","title":"Infrastructure d\u00e9ploy\u00e9e","text":"<pre><code>graph TB\n    subgraph \"Azure Cloud\"\n        subgraph \"Resource Group: ClicBoumPaf-Canary\"\n            VM[Virtual Machine&lt;br/&gt;Standard_B2s]\n            NIC[Network Interface]\n            NSG[Network Security Group]\n            PIP[Public IP Address]\n            VNET[Virtual Network]\n        end\n\n        DNS[Azure DNS&lt;br/&gt;demo.clic-boum-paf.com]\n    end\n\n    Internet --&gt;|HTTP/HTTPS| PIP\n    PIP --&gt; NIC\n    NIC --&gt; VM\n    NSG -.-&gt;|Rules| NIC\n    NIC --&gt; VNET\n    DNS -.-&gt;|monocanary| PIP\n\n    VM --&gt;|Docker Compose| D[mono-front + mono-back + mono-bdd]\n\n    style VM fill:#0078d4\n    style NSG fill:#00bcf2\n    style PIP fill:#50e6ff\n    style DNS fill:#ff6347</code></pre>"},{"location":"architecture/overview/#network-security-group-rules","title":"Network Security Group Rules","text":"Rule Port Protocol Source Destination SSH 22 TCP * * HTTP 80 TCP * * Backend 12000 TCP * *"},{"location":"architecture/overview/#flux-de-deploiement","title":"Flux de d\u00e9ploiement","text":"<pre><code>graph LR\n    GHA[GitHub Actions] --&gt;|1. Login OIDC| Azure\n    GHA --&gt;|2. Create RG| RG[Resource Group]\n    GHA --&gt;|3. Deploy Bicep| VM[VM + Network]\n    GHA --&gt;|4. SSH| VM\n    GHA --&gt;|5. Install Docker| VM\n    GHA --&gt;|6. Deploy DNS| DNS[Azure DNS]\n    GHA --&gt;|7. SCP docker-compose| VM\n    GHA --&gt;|8. Docker pull &amp; up| VM\n    GHA --&gt;|9. OWASP ZAP scan| VM\n\n    style GHA fill:#2088ff\n    style Azure fill:#0078d4\n    style VM fill:#00bcf2</code></pre>"},{"location":"architecture/overview/#securite","title":"S\u00e9curit\u00e9","text":""},{"location":"architecture/overview/#authentification-autorisation","title":"Authentification &amp; Autorisation","text":"<pre><code>graph LR\n    U[User] --&gt;|1. Login| FE[Frontend]\n    FE --&gt;|2. POST credentials| BE[Backend]\n    BE --&gt;|3. Query| DB[(Database)]\n    DB --&gt;|4. User data| BE\n    BE --&gt;|5. Verify password| BE\n    BE --&gt;|6. Generate JWT| JWT[JWT Token]\n    JWT --&gt;|7. Return| FE\n    FE --&gt;|8. Store| LS[localStorage]\n\n    FE --&gt;|9. API call + JWT| BE\n    BE --&gt;|10. Verify JWT| MW[Auth Middleware]\n    MW --&gt;|11. Decode| Payload[User ID, Role]\n    MW --&gt;|12. Authorize| BE\n\n    style JWT fill:#ffeb3b\n    style MW fill:#ff9800</code></pre>"},{"location":"architecture/overview/#layers-de-securite","title":"Layers de s\u00e9curit\u00e9","text":"<ol> <li>Network Layer : NSG Azure, HTTPS (\u00e0 impl\u00e9menter)</li> <li>Application Layer : JWT, input validation, CORS</li> <li>Data Layer : Hashed passwords (bcrypt), prepared statements (Sequelize)</li> </ol>"},{"location":"architecture/overview/#performance-scalabilite","title":"Performance &amp; Scalabilit\u00e9","text":""},{"location":"architecture/overview/#limites-actuelles-phase-1","title":"Limites actuelles (Phase 1)","text":"<ul> <li>Pas de load balancing</li> <li>Pas de cache (Redis)</li> <li>Pas de CDN</li> <li>Scalabilit\u00e9 verticale uniquement</li> </ul>"},{"location":"architecture/overview/#optimisations-possibles","title":"Optimisations possibles","text":"<pre><code>graph TB\n    LB[Load Balancer] --&gt; FE1[Frontend 1]\n    LB --&gt; FE2[Frontend 2]\n\n    FE1 --&gt; BE1[Backend 1]\n    FE2 --&gt; BE1\n    FE1 --&gt; BE2[Backend 2]\n    FE2 --&gt; BE2\n\n    BE1 --&gt; Cache[Redis Cache]\n    BE2 --&gt; Cache\n\n    Cache -.-&gt;|Cache miss| DB[(Primary DB)]\n    DB --&gt; DB2[(Read Replica)]\n\n    style LB fill:#ff6347\n    style Cache fill:#ffa500\n    style DB fill:#4169e1\n    style DB2 fill:#87ceeb</code></pre>"},{"location":"architecture/overview/#evolution-future","title":"\u00c9volution future","text":""},{"location":"architecture/overview/#phase-2-kubernetes","title":"Phase 2 : Kubernetes","text":"<p>Migration vers une architecture cloud-native :</p> <pre><code>graph TB\n    subgraph \"Kubernetes Cluster\"\n        subgraph \"Ingress\"\n            ING[Ingress Controller]\n        end\n\n        subgraph \"Frontend\"\n            FE1[Pod 1]\n            FE2[Pod 2]\n            FE3[Pod 3]\n        end\n\n        subgraph \"Backend\"\n            BE1[Pod 1]\n            BE2[Pod 2]\n        end\n\n        subgraph \"Database\"\n            DB[StatefulSet]\n        end\n    end\n\n    ING --&gt; FE1 &amp; FE2 &amp; FE3\n    FE1 &amp; FE2 &amp; FE3 --&gt; BE1 &amp; BE2\n    BE1 &amp; BE2 --&gt; DB\n\n    style ING fill:#ff6347\n    style DB fill:#4169e1</code></pre>"},{"location":"architecture/overview/#phase-3-microservices","title":"Phase 3 : Microservices","text":"<p>D\u00e9coupage en services m\u00e9tier :</p> <pre><code>graph TB\n    API[API Gateway]\n\n    API --&gt; US[User Service]\n    API --&gt; CS[Cocktail Service]\n    API --&gt; AS[Auth Service]\n\n    US --&gt; UDB[(Users DB)]\n    CS --&gt; CDB[(Cocktails DB)]\n    AS --&gt; ADB[(Auth DB)]\n\n    MQ[Message Queue] -.-&gt; US\n    MQ -.-&gt; CS\n\n    style API fill:#ff6347\n    style MQ fill:#ffa500</code></pre>"},{"location":"architecture/overview/#approfondissement","title":"Approfondissement","text":"<p>Pour en savoir plus sur chaque composant :</p> <ul> <li>Backend - Architecture d\u00e9taill\u00e9e du backend</li> <li>Frontend - Architecture du frontend React</li> <li>Base de donn\u00e9es - Sch\u00e9ma et mod\u00e8les</li> <li>Docker - Configuration Docker compl\u00e8te</li> </ul> <p>Architecture \u00e9volutive</p> <p>Cette architecture simple (Phase 1) est volontairement basique pour faciliter l'apprentissage. Les phases suivantes introduiront progressivement la complexit\u00e9 (K8s, microservices).</p>"},{"location":"cicd/overview/","title":"Vue d'ensemble CI/CD","text":"<p>Le projet Cocktail ClicBoumPaf impl\u00e9mente une strat\u00e9gie DevSecOps compl\u00e8te avec deux pipelines principaux orchestr\u00e9s par GitHub Actions.</p>"},{"location":"cicd/overview/#philosophie-devsecops","title":"Philosophie DevSecOps","text":"<p>Le projet suit les principes Shift-Left Security : int\u00e9grer la s\u00e9curit\u00e9 d\u00e8s les premi\u00e8res \u00e9tapes du d\u00e9veloppement.</p> <pre><code>graph LR\n    A[Code] --&gt;|Push| B[Tests]\n    B --&gt; C[Quality]\n    C --&gt; D[Security Scan]\n    D --&gt; E[Build]\n    E --&gt; F[Deploy]\n    F --&gt; G[Pentest]\n\n    style D fill:#ffeb3b\n    style G fill:#ffeb3b</code></pre> <p>Avantages :</p> <ul> <li>D\u00e9tection pr\u00e9coce des vuln\u00e9rabilit\u00e9s</li> <li>R\u00e9duction des co\u00fbts de correction</li> <li>Am\u00e9lioration de la qualit\u00e9 du code</li> <li>D\u00e9ploiements plus s\u00fbrs</li> </ul>"},{"location":"cicd/overview/#les-deux-pipelines","title":"Les deux pipelines","text":""},{"location":"cicd/overview/#pipeline-01-integration-pull-request","title":"Pipeline 01 - Integration (Pull Request)","text":"<p>D\u00e9clencheur : Pull Request vers <code>develop</code> Objectif : Valider le code avant le merge</p> <pre><code>graph TB\n    PR[Pull Request \u2192 develop] --&gt; T[Tests Backend + Frontend]\n    T --&gt; S[SonarQube Analysis]\n    S --&gt; Sn[Snyk Security Scan]\n    Sn --&gt; OK{All Pass?}\n    OK --&gt;|Yes| M[Ready to merge]\n    OK --&gt;|No| F[Fix issues]\n\n    style PR fill:#e3f2fd\n    style T fill:#c5cae9\n    style S fill:#9fa8da\n    style Sn fill:#7986cb\n    style M fill:#4caf50\n    style F fill:#f44336</code></pre> <p>\u00c9tapes :</p> <ol> <li>Tests unitaires Backend (Jest)</li> <li>Tests E2E Frontend (Cypress)</li> <li>Analyse qualit\u00e9 (SonarQube)</li> <li>Scan s\u00e9curit\u00e9 (Snyk)</li> </ol> <p>R\u00e9sultat : Merge bloqu\u00e9 si au moins un job \u00e9choue.</p>"},{"location":"cicd/overview/#pipeline-02-canary-push-develop","title":"Pipeline 02 - Canary (Push develop)","text":"<p>D\u00e9clencheur : Push sur <code>develop</code> ou <code>release/*</code> Objectif : D\u00e9ployer en environnement Canary pour validation</p> <pre><code>graph TB\n    P[Push develop/release] --&gt; B[Build Docker Images]\n    B --&gt; Tr[Trivy Scan]\n    Tr --&gt; D[Deploy Azure VM]\n    D --&gt; Z[OWASP ZAP Pentest]\n    Z --&gt; OK{Pass?}\n    OK --&gt;|Yes| C[Canary Ready]\n    OK --&gt;|No| F[Rollback]\n\n    style P fill:#e8f5e9\n    style B fill:#c8e6c9\n    style Tr fill:#a5d6a7\n    style D fill:#81c784\n    style Z fill:#66bb6a\n    style C fill:#4caf50\n    style F fill:#f44336</code></pre> <p>\u00c9tapes :</p> <ol> <li>Build &amp; Push images Docker vers GHCR</li> <li>Scan Trivy des images</li> <li>D\u00e9ploiement Azure (VM avec ARM/Bicep)</li> <li>Pentest OWASP ZAP</li> </ol> <p>R\u00e9sultat : Environnement Canary accessible pour validation manuelle.</p>"},{"location":"cicd/overview/#vue-densemble-des-workflows","title":"Vue d'ensemble des workflows","text":"Workflow Fichier D\u00e9clencheur Dur\u00e9e 01 - Integration <code>_01_Integration.yaml</code> PR \u2192 develop ~5 min 01-1 - Tests <code>01-1_TestBackFront.yaml</code> Appel\u00e9 par 01 ~2 min 01-2 - SonarQube <code>01-2_SonarQube.yaml</code> Appel\u00e9 par 01 ~1 min 01-3 - Snyk <code>01-3_Snyk.yaml</code> Appel\u00e9 par 01 ~2 min 02 - Canary <code>_02_Canary.yaml</code> Push develop ~15 min 02-2 - Trivy <code>02-2_TrivyScan.yaml</code> Appel\u00e9 par 02 ~3 min 02-3 - Deploy <code>02-3_DeployCanary.yaml</code> Appel\u00e9 par 02 ~8 min 02-4 - ZAP <code>02-4_ZapScan.yaml</code> Appel\u00e9 par 02 ~4 min"},{"location":"cicd/overview/#securite-integree","title":"S\u00e9curit\u00e9 int\u00e9gr\u00e9e","text":"<p>Le pipeline int\u00e8gre 4 niveaux de s\u00e9curit\u00e9 :</p>"},{"location":"cicd/overview/#1-analyse-statique-sast","title":"1. Analyse statique (SAST)","text":"<p>Outil : SonarQube Phase : Integration Cible : Code source (backend + frontend)</p> <ul> <li>Vuln\u00e9rabilit\u00e9s du code</li> <li>Code smells</li> <li>Bugs potentiels</li> <li>Couverture de tests</li> </ul>"},{"location":"cicd/overview/#2-analyse-des-dependances-sca","title":"2. Analyse des d\u00e9pendances (SCA)","text":"<p>Outil : Snyk Phase : Integration Cible : <code>package.json</code>, <code>package-lock.json</code></p> <ul> <li>CVE dans les d\u00e9pendances</li> <li>Licences incompatibles</li> <li>Mises \u00e0 jour de s\u00e9curit\u00e9 disponibles</li> </ul>"},{"location":"cicd/overview/#3-scan-des-images-container-security","title":"3. Scan des images (Container Security)","text":"<p>Outil : Trivy Phase : Canary Cible : Images Docker build\u00e9es</p> <ul> <li>Vuln\u00e9rabilit\u00e9s OS</li> <li>Vuln\u00e9rabilit\u00e9s dans les packages</li> <li>Configuration Docker</li> </ul>"},{"location":"cicd/overview/#4-test-de-penetration-dast","title":"4. Test de p\u00e9n\u00e9tration (DAST)","text":"<p>Outil : OWASP ZAP Phase : Canary (post-d\u00e9ploiement) Cible : Application d\u00e9ploy\u00e9e</p> <ul> <li>Injection SQL</li> <li>XSS</li> <li>CSRF</li> <li>Headers de s\u00e9curit\u00e9</li> <li>OWASP Top 10</li> </ul> <pre><code>graph LR\n    A[Code] --&gt;|SAST| B[SonarQube]\n    A --&gt;|SCA| C[Snyk]\n    D[Docker Image] --&gt;|Container| E[Trivy]\n    F[Deployed App] --&gt;|DAST| G[OWASP ZAP]\n\n    style B fill:#ffeb3b\n    style C fill:#ffc107\n    style E fill:#ff9800\n    style G fill:#ff5722</code></pre>"},{"location":"cicd/overview/#strategies-de-deploiement","title":"Strat\u00e9gies de d\u00e9ploiement","text":""},{"location":"cicd/overview/#canary-release","title":"Canary Release","text":"<p>Le projet utilise une strat\u00e9gie Canary :</p> <ol> <li>D\u00e9ploiement sur un environnement isol\u00e9 (VM Azure)</li> <li>Tests automatis\u00e9s (OWASP ZAP)</li> <li>Validation manuelle possible</li> <li>Promotion vers production si OK</li> </ol> <p>Avantages :</p> <ul> <li>D\u00e9tection pr\u00e9coce des probl\u00e8mes</li> <li>Rollback facile</li> <li>Tests en conditions r\u00e9elles</li> <li>Risque limit\u00e9</li> </ul>"},{"location":"cicd/overview/#gitflow-mapping","title":"GitFlow mapping","text":"<pre><code>gitGraph\n    commit id: \"Initial\"\n    branch develop\n    commit id: \"Feature A\"\n    commit id: \"Feature B\" tag: \"Canary Deploy\"\n\n    branch release/1.0\n    commit id: \"RC1\"\n\n    checkout main\n    merge release/1.0 tag: \"v1.0 Production\"\n\n    checkout develop\n    merge release/1.0</code></pre> Branche Environnement Pipeline <code>feature/*</code> - - <code>develop</code> Canary Pipeline 02 <code>release/*</code> Staging Pipeline 02 <code>main</code> Production (Phase 2)"},{"location":"cicd/overview/#metriques-qualite","title":"M\u00e9triques &amp; Qualit\u00e9","text":""},{"location":"cicd/overview/#gates-de-qualite","title":"Gates de qualit\u00e9","text":"<p>Le projet d\u00e9finit des quality gates stricts :</p> <p>SonarQube :</p> <ul> <li>Coverage &gt; 80%</li> <li>0 Bugs critiques</li> <li>0 Vuln\u00e9rabilit\u00e9s</li> <li>Technical Debt &lt; 5%</li> </ul> <p>Snyk :</p> <ul> <li>0 vuln\u00e9rabilit\u00e9s critiques</li> <li>0 vuln\u00e9rabilit\u00e9s hautes non corrig\u00e9es &gt; 30 jours</li> </ul> <p>Trivy :</p> <ul> <li>0 vuln\u00e9rabilit\u00e9s critiques dans l'image</li> <li>0 vuln\u00e9rabilit\u00e9s hautes non patch\u00e9es</li> </ul>"},{"location":"cicd/overview/#monitoring-des-pipelines","title":"Monitoring des pipelines","text":"<p>GitHub Actions fournit :</p> <ul> <li>Historique des ex\u00e9cutions</li> <li>Temps d'ex\u00e9cution</li> <li>Taux de succ\u00e8s/\u00e9chec</li> <li>Logs d\u00e9taill\u00e9s</li> <li>Artifacts (rapports, coverage)</li> </ul>"},{"location":"cicd/overview/#secrets-variables","title":"Secrets &amp; Variables","text":""},{"location":"cicd/overview/#secrets-github-requis","title":"Secrets GitHub requis","text":"Secret Description Utilis\u00e9 par <code>AZURE_CLIENT_ID</code> App Registration ID Deploy Canary <code>AZURE_TENANT_ID</code> Tenant Azure ID Deploy Canary <code>AZURE_SUBSCRIPTION_ID</code> Subscription ID Deploy Canary <code>AZURE_VM_LOGIN</code> Login admin VM Deploy Canary <code>AZURE_VM_PASSWORD</code> Password admin VM Deploy Canary <code>MONOREPO_PAT</code> GitHub PAT (GHCR) Docker build <code>SONAR_TOKEN</code> Token SonarCloud SonarQube <code>SNYK_TOKEN</code> Token Snyk Snyk scan"},{"location":"cicd/overview/#variables-denvironnement","title":"Variables d'environnement","text":"<p>D\u00e9finies dans les workflows :</p> <pre><code>env:\n  ResourceGroupName: \"ClicBoumPaf-Canary\"\n  ResourceGroupLocation: \"francecentral\"\n  PORT: \"22\"\n</code></pre>"},{"location":"cicd/overview/#lancer-un-workflow-manuellement","title":"Lancer un workflow manuellement","text":"<p>Depuis l'interface GitHub :</p> <ol> <li>Aller dans Actions</li> <li>S\u00e9lectionner le workflow</li> <li>Cliquer sur Run workflow</li> <li>Choisir la branche</li> <li>Lancer</li> </ol>"},{"location":"cicd/overview/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<p>Pour approfondir :</p> <ul> <li>Workflows d\u00e9taill\u00e9s</li> <li>Pipeline Integration</li> <li>Pipeline Canary</li> <li>Tests &amp; Qualit\u00e9</li> <li>S\u00e9curit\u00e9</li> </ul> <p>Best Practices</p> <ul> <li>Toujours passer par une PR pour merger sur <code>develop</code></li> <li>V\u00e9rifier les quality gates avant de merger</li> <li>Valider l'environnement Canary avant promotion</li> <li>Monitorer les m\u00e9triques de s\u00e9curit\u00e9 r\u00e9guli\u00e8rement</li> </ul>"},{"location":"cicd/workflows/","title":"Workflows d\u00e9taill\u00e9s","text":"<p>Guide complet de tous les workflows GitHub Actions du projet.</p>"},{"location":"cicd/workflows/#organisation-des-workflows","title":"Organisation des workflows","text":"<pre><code>.github/workflows/\n\u251c\u2500\u2500 _01_Integration.yaml       # Pipeline principal Integration\n\u251c\u2500\u2500 _02_Canary.yaml            # Pipeline principal Canary\n\u251c\u2500\u2500 01-1_TestBackFront.yaml    # Tests unitaires + E2E\n\u251c\u2500\u2500 01-2_SonarQube.yaml        # Analyse qualit\u00e9\n\u251c\u2500\u2500 01-3_Snyk.yaml             # Scan s\u00e9curit\u00e9 d\u00e9pendances\n\u251c\u2500\u2500 02-2_TrivyScan.yaml        # Scan images Docker\n\u251c\u2500\u2500 02-3_DeployCanary.yaml     # D\u00e9ploiement Azure\n\u251c\u2500\u2500 02-4_ZapScan.yaml          # Pentest OWASP ZAP\n\u2514\u2500\u2500 z_Docker-Ghcr.yaml         # Build &amp; Push Docker\n</code></pre>"},{"location":"cicd/workflows/#workflow-01-integration","title":"Workflow 01 - Integration","text":""},{"location":"cicd/workflows/#declencheur","title":"D\u00e9clencheur","text":"<pre><code>on:\n  pull_request:\n    branches:\n      - develop\n</code></pre>"},{"location":"cicd/workflows/#jobs-orchestres","title":"Jobs orchestr\u00e9s","text":"<pre><code>graph TB\n    PR[Pull Request \u2192 develop] --&gt; T[Test_Back_Front]\n    T --&gt; Q[Quality_SonarQube]\n    Q --&gt; S[Security_Snyk]\n    S --&gt; OK{All Pass?}\n    OK --&gt;|Yes| M[Merge autoris\u00e9]\n    OK --&gt;|No| F[Merge bloqu\u00e9]\n\n    style M fill:#4caf50\n    style F fill:#f44336</code></pre>"},{"location":"cicd/workflows/#detail-du-workflow","title":"D\u00e9tail du workflow","text":"<pre><code>name: 01 - Integration\n\non:\n  pull_request:\n    branches:\n      - develop\n\njobs:\n  Test_Back_Front:\n    uses: ./.github/workflows/01-1_TestBackFront.yaml\n\n  Quality_SonarQube:\n    needs: [Test_Back_Front]\n    uses: ./.github/workflows/01-2_SonarQube.yaml\n    secrets: inherit\n\n  Security_Snyk:\n    needs: [Quality_SonarQube]\n    uses: ./.github/workflows/01-3_Snyk.yaml\n    secrets: inherit\n</code></pre> <p>Caract\u00e9ristiques :</p> <ul> <li>Ex\u00e9cution s\u00e9quentielle avec <code>needs</code></li> <li>Partage des secrets avec <code>secrets: inherit</code></li> <li>Bloque le merge si un job \u00e9choue</li> <li>Dur\u00e9e : ~5-7 minutes</li> </ul>"},{"location":"cicd/workflows/#workflow-02-canary","title":"Workflow 02 - Canary","text":""},{"location":"cicd/workflows/#declencheur_1","title":"D\u00e9clencheur","text":"<pre><code>on:\n  push:\n    branches:\n      - develop\n      - release/*\n</code></pre>"},{"location":"cicd/workflows/#jobs-orchestres_1","title":"Jobs orchestr\u00e9s","text":"<pre><code>graph TB\n    P[Push develop/release] --&gt; D[Display_Data]\n    D --&gt; B[Build_Push_Docker]\n    B --&gt; T[Trivy_Scan_Package]\n    T --&gt; DC[Deploy_Canary]\n    DC --&gt; Z[Zaproxy_Scan]\n\n    style B fill:#2196f3\n    style DC fill:#4caf50\n    style Z fill:#ff9800</code></pre>"},{"location":"cicd/workflows/#detail-du-workflow_1","title":"D\u00e9tail du workflow","text":"<pre><code>name: 02 - Canary\n\non:\n  push:\n    branches:\n      - develop\n      - release/*\n\njobs:\n  Display_Data:\n    runs-on: ubuntu-latest\n    steps:\n      - run: env | sort\n\n  Build_Push_Docker:\n    if: ${{github.ref_name == 'develop'}}\n    uses: ./.github/workflows/z_Docker-Ghcr.yaml\n    secrets: inherit\n    with:\n      docker-mode: canary\n\n  Trivy_Scan_Package:\n    needs: [Build_Push_Docker]\n    uses: ./.github/workflows/02-2_TrivyScan.yaml\n    secrets: inherit\n\n  Deploy_Canary:\n    uses: ./.github/workflows/02-3_DeployCanary.yaml\n    secrets: inherit\n    permissions:\n      id-token: write\n\n  Zaproxy_Scan:\n    needs: [Deploy_Canary]\n    uses: ./.github/workflows/02-4_ZapScan.yaml\n    permissions:\n      issues: write\n</code></pre> <p>Caract\u00e9ristiques :</p> <ul> <li>Jobs conditionnels avec <code>if</code></li> <li>Permissions sp\u00e9cifiques par job</li> <li>Dur\u00e9e : ~15-20 minutes</li> </ul>"},{"location":"cicd/workflows/#workflow-01-1-tests-backend-frontend","title":"Workflow 01-1 : Tests Backend &amp; Frontend","text":""},{"location":"cicd/workflows/#backend-tests-jest","title":"Backend Tests (Jest)","text":"<pre><code>- name: Run Backend Tests\n  working-directory: ./backend\n  run: |\n    npm ci\n    npm run test:cov\n\n- name: Upload Coverage\n  uses: codecov/codecov-action@v3\n  with:\n    file: ./backend/coverage/lcov.info\n    flags: backend\n</code></pre> <p>Tests inclus :</p> <ul> <li>Tests unitaires des controllers</li> <li>Tests des routes API</li> <li>Tests des mod\u00e8les Sequelize</li> <li>Tests des middlewares</li> </ul>"},{"location":"cicd/workflows/#frontend-tests-cypress","title":"Frontend Tests (Cypress)","text":"<pre><code>- name: Run Frontend E2E Tests\n  working-directory: ./frontend\n  run: |\n    npm ci\n    npm run cypress:run\n\n- name: Upload Coverage\n  uses: codecov/codecov-action@v3\n  with:\n    file: ./frontend/coverage/lcov.info\n    flags: frontend\n</code></pre> <p>Tests inclus :</p> <ul> <li>Tests E2E de navigation</li> <li>Tests de formulaires</li> <li>Tests d'authentification</li> <li>Tests des composants critiques</li> </ul>"},{"location":"cicd/workflows/#workflow-01-2-sonarqube","title":"Workflow 01-2 : SonarQube","text":""},{"location":"cicd/workflows/#analyse-backend","title":"Analyse Backend","text":"<pre><code>- name: SonarQube Scan Backend\n  uses: sonarsource/sonarqube-scan-action@master\n  env:\n    SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n    SONAR_HOST_URL: https://sonarcloud.io\n  with:\n    projectBaseDir: backend\n    args: &gt;\n      -Dsonar.projectKey=cocktail-backend\n      -Dsonar.sources=.\n      -Dsonar.exclusions=node_modules/**,test/**,coverage/**\n      -Dsonar.javascript.lcov.reportPaths=coverage/lcov.info\n</code></pre>"},{"location":"cicd/workflows/#analyse-frontend","title":"Analyse Frontend","text":"<pre><code>- name: SonarQube Scan Frontend\n  uses: sonarsource/sonarqube-scan-action@master\n  env:\n    SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n    SONAR_HOST_URL: https://sonarcloud.io\n  with:\n    projectBaseDir: frontend\n    args: &gt;\n      -Dsonar.projectKey=cocktail-frontend\n      -Dsonar.sources=src\n      -Dsonar.exclusions=node_modules/**,cypress/**,dist/**\n</code></pre> <p>M\u00e9triques analys\u00e9es :</p> <ul> <li>Code coverage</li> <li>Code smells</li> <li>Bugs potentiels</li> <li>Vuln\u00e9rabilit\u00e9s</li> <li>Duplication de code</li> <li>Complexit\u00e9 cyclomatique</li> </ul>"},{"location":"cicd/workflows/#workflow-01-3-snyk","title":"Workflow 01-3 : Snyk","text":"<pre><code>- name: Run Snyk to check for vulnerabilities\n  uses: snyk/actions/node@master\n  env:\n    SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}\n  with:\n    args: --severity-threshold=high\n    command: test\n</code></pre> <p>V\u00e9rifications :</p> <ul> <li>Vuln\u00e9rabilit\u00e9s dans <code>package.json</code></li> <li>CVE dans les d\u00e9pendances transitives</li> <li>Licences incompatibles</li> <li>Patches disponibles</li> </ul>"},{"location":"cicd/workflows/#workflow-z_docker-ghcr-build-push","title":"Workflow z_Docker-Ghcr : Build &amp; Push","text":""},{"location":"cicd/workflows/#build-multi-plateforme","title":"Build multi-plateforme","text":"<pre><code>- name: Build and push Backend\n  uses: docker/build-push-action@v5\n  with:\n    context: ./backend\n    file: ./backend/Dockerfile\n    push: true\n    tags: |\n      ghcr.io/${{ github.repository_owner }}/cocktail_base_3t-back:canary\n      ghcr.io/${{ github.repository_owner }}/cocktail_base_3t-back:${{ github.sha }}\n    cache-from: type=gha\n    cache-to: type=gha,mode=max\n</code></pre> <p>Optimisations :</p> <ul> <li>Build cache GitHub Actions</li> <li>Multi-stage Dockerfile</li> <li>Image optimis\u00e9e (Alpine)</li> <li>Tags multiples (canary + SHA)</li> </ul>"},{"location":"cicd/workflows/#workflow-02-2-trivy-scan","title":"Workflow 02-2 : Trivy Scan","text":"<pre><code>- name: Run Trivy vulnerability scanner\n  uses: aquasecurity/trivy-action@master\n  with:\n    image-ref: ghcr.io/${{ github.repository }}-back:canary\n    format: 'sarif'\n    output: 'trivy-results.sarif'\n    severity: 'CRITICAL,HIGH'\n\n- name: Upload Trivy results to GitHub Security\n  uses: github/codeql-action/upload-sarif@v2\n  with:\n    sarif_file: 'trivy-results.sarif'\n</code></pre> <p>Scans effectu\u00e9s :</p> <ul> <li>Vuln\u00e9rabilit\u00e9s OS</li> <li>Vuln\u00e9rabilit\u00e9s packages</li> <li>Misconfiguration</li> <li>Secrets expos\u00e9s</li> </ul>"},{"location":"cicd/workflows/#workflow-02-3-deploy-canary","title":"Workflow 02-3 : Deploy Canary","text":""},{"location":"cicd/workflows/#etapes-de-deploiement","title":"\u00c9tapes de d\u00e9ploiement","text":"<ol> <li>Login Azure avec OIDC</li> </ol> <pre><code>- name: Azure Login\n  uses: azure/login@v2\n  with:\n    client-id: ${{ secrets.AZURE_CLIENT_ID }}\n    tenant-id: ${{ secrets.AZURE_TENANT_ID }}\n    subscription-id: ${{ secrets.AZURE_SUBSCRIPTION_ID }}\n</code></pre> <ol> <li>Cr\u00e9ation du Resource Group</li> </ol> <pre><code>- name: Azure CLI Create Resource Group\n  uses: azure/CLI@v2\n  with:\n    inlineScript: |\n      az group create \\\n        --name ${{env.ResourceGroupName}} \\\n        --location ${{env.ResourceGroupLocation}}\n</code></pre> <ol> <li>D\u00e9ploiement ARM/Bicep</li> </ol> <pre><code>- name: Azure ARM Deploy\n  uses: azure/arm-deploy@v2\n  with:\n    resourceGroupName: ${{env.ResourceGroupName}}\n    scope: resourcegroup\n    template: ./infra/main.bicep\n    parameters: &gt;\n      adminUsername=${{secrets.AZURE_VM_LOGIN}}\n      adminPasswordOrKey=${{secrets.AZURE_VM_PASSWORD}}\n      vmName=\"Canary-Server\"\n      vmSize=\"Standard_B2s\"\n</code></pre> <ol> <li>Configuration r\u00e9seau (NSG)</li> </ol> <pre><code>- name: Open Port on Security Group\n  uses: azure/CLI@v2\n  with:\n    inlineScript: |\n      az network nsg rule create \\\n        --resource-group ${{env.ResourceGroupName}} \\\n        --nsg-name SecGroupNet \\\n        --name PortBack-12000 \\\n        --priority 100 \\\n        --direction Inbound \\\n        --access Allow \\\n        --protocol Tcp \\\n        --destination-port-ranges 12000\n</code></pre> <ol> <li>Installation Docker sur VM</li> </ol> <pre><code>- name: Install Docker on VM\n  uses: appleboy/ssh-action@v1.0.3\n  with:\n    host: ${{env.AZURE_VM_IP}}\n    username: ${{secrets.AZURE_VM_LOGIN}}\n    password: ${{secrets.AZURE_VM_PASSWORD}}\n    script: |\n      curl -fsSL https://get.docker.com -o get-docker.sh\n      sudo sh get-docker.sh\n</code></pre> <ol> <li>D\u00e9ploiement de l'application</li> </ol> <pre><code>- name: Start compose file\n  uses: appleboy/ssh-action@v1.0.3\n  with:\n    host: ${{env.AZURE_VM_IP}}\n    username: ${{secrets.AZURE_VM_LOGIN}}\n    password: ${{secrets.AZURE_VM_PASSWORD}}\n    script: |\n      echo ${{secrets.MONOREPO_PAT}} | docker login ghcr.io -u USERNAME --password-stdin\n      docker compose up -d\n</code></pre>"},{"location":"cicd/workflows/#workflow-02-4-owasp-zap-scan","title":"Workflow 02-4 : OWASP ZAP Scan","text":"<pre><code>- name: ZAP Baseline Scan\n  uses: zaproxy/action-baseline@v0.7.0\n  with:\n    target: 'http://monocanary.demo.clic-boum-paf.com'\n    rules_file_name: '.zap/rules.tsv'\n    cmd_options: '-a'\n\n- name: Create Issue from ZAP Report\n  if: failure()\n  uses: actions/github-script@v6\n  with:\n    script: |\n      github.rest.issues.create({\n        owner: context.repo.owner,\n        repo: context.repo.repo,\n        title: 'Security vulnerabilities found by OWASP ZAP',\n        body: 'Check the ZAP report in the Actions artifacts'\n      })\n</code></pre> <p>Tests effectu\u00e9s :</p> <ul> <li>Injection SQL</li> <li>XSS (Cross-Site Scripting)</li> <li>CSRF (Cross-Site Request Forgery)</li> <li>Headers de s\u00e9curit\u00e9 manquants</li> <li>OWASP Top 10</li> </ul>"},{"location":"cicd/workflows/#bonnes-pratiques","title":"Bonnes pratiques","text":""},{"location":"cicd/workflows/#reutilisation-avec-workflow_call","title":"R\u00e9utilisation avec <code>workflow_call</code>","text":"<pre><code># Workflow r\u00e9utilisable\nname: Reusable Tests\n\non:\n  workflow_call:\n    inputs:\n      node-version:\n        required: false\n        type: string\n        default: '20'\n    secrets:\n      SOME_SECRET:\n        required: true\n</code></pre>"},{"location":"cicd/workflows/#gestion-des-secrets","title":"Gestion des secrets","text":"<ul> <li>Utiliser GitHub Secrets</li> <li>Utiliser OIDC pour Azure (pas de credentials statiques)</li> <li>Limiter les permissions (<code>permissions: read</code>)</li> <li>Ne jamais logger les secrets</li> </ul>"},{"location":"cicd/workflows/#optimisations","title":"Optimisations","text":"<pre><code># Cache des d\u00e9pendances\n- uses: actions/setup-node@v4\n  with:\n    node-version: '20'\n    cache: 'npm'\n\n# Cache Docker\n- uses: docker/build-push-action@v5\n  with:\n    cache-from: type=gha\n    cache-to: type=gha,mode=max\n</code></pre>"},{"location":"cicd/workflows/#ressources","title":"Ressources","text":"<ul> <li>GitHub Actions Documentation</li> <li>Workflow Syntax</li> <li>Reusable Workflows</li> </ul> <p>D\u00e9bugger un workflow</p> <p>Ajoutez <code>ACTIONS_STEP_DEBUG: true</code> dans les secrets GitHub pour activer les logs d\u00e9taill\u00e9s.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Guide de configuration du projet pour le d\u00e9veloppement local et le d\u00e9ploiement Azure.</p>"},{"location":"getting-started/configuration/#configuration-locale","title":"Configuration locale","text":""},{"location":"getting-started/configuration/#backend","title":"Backend","text":""},{"location":"getting-started/configuration/#fichier-env","title":"Fichier <code>.env</code>","text":"<p>Cr\u00e9ez un fichier <code>.env</code> \u00e0 la racine du dossier <code>backend/</code> :</p> <pre><code># Base de donn\u00e9es\nBDD_HOST=localhost\nBDD_PORT=3306\nBDD_USER=roger\nBDD_PASSWORD=regor\nBDD_NAME=bddname\n\n# Serveur\nPORT=12000\nNODE_ENV=development\n\n# JWT\nJWT_SECRET=your-super-secret-jwt-key-change-me-in-production\nJWT_EXPIRES_IN=24h\n\n# CORS (en d\u00e9veloppement)\nCORS_ORIGIN=http://localhost:5173\n</code></pre> <p>Production</p> <p>En production, utilisez des secrets forts et s\u00e9curis\u00e9s. Ne commitez JAMAIS le fichier <code>.env</code> !</p>"},{"location":"getting-started/configuration/#parametres-de-connexion-bdd","title":"Param\u00e8tres de connexion BDD","text":"<p>Pour Docker Compose, les credentials sont dans <code>docker-compose.yaml</code> :</p> <pre><code>environment:\n  MARIADB_ROOT_PASSWORD: TOOR\n  MARIADB_DATABASE: bddname\n  MARIADB_USER: roger\n  MARIADB_PASSWORD: regor\n</code></pre>"},{"location":"getting-started/configuration/#frontend","title":"Frontend","text":""},{"location":"getting-started/configuration/#fichier-env_1","title":"Fichier <code>.env</code>","text":"<p>Cr\u00e9ez un fichier <code>.env</code> \u00e0 la racine du dossier <code>frontend/</code> :</p> <pre><code># URL de l'API backend\nVITE_API_URL=http://localhost:12000\n</code></pre>"},{"location":"getting-started/configuration/#modes-de-build","title":"Modes de build","text":"<p>Le frontend supporte deux modes :</p> <pre><code># Mode d\u00e9veloppement standard\nnpm run build\n\n# Mode Canary (avec variables sp\u00e9cifiques)\nnpm run build:canary\n</code></pre>"},{"location":"getting-started/configuration/#configuration-azure","title":"Configuration Azure","text":""},{"location":"getting-started/configuration/#prerequis-azure","title":"Pr\u00e9requis Azure","text":"<ol> <li>Compte Azure actif</li> <li>Souscription avec droits Contributor</li> <li>App Registration pour l'authentification OIDC</li> </ol>"},{"location":"getting-started/configuration/#creer-une-app-registration","title":"Cr\u00e9er une App Registration","text":""},{"location":"getting-started/configuration/#via-azure-portal","title":"Via Azure Portal","text":"<ol> <li>Aller dans Azure Active Directory (Entra ID)</li> <li>App registrations \u2192 New registration</li> <li>Nom : <code>github-actions-cocktail</code></li> <li>Supported account types : Single tenant</li> <li>Cr\u00e9er</li> </ol>"},{"location":"getting-started/configuration/#configurer-lauthentification-oidc","title":"Configurer l'authentification OIDC","text":"<ol> <li>Dans l'App Registration \u2192 Certificates &amp; secrets</li> <li>Federated credentials \u2192 Add credential</li> <li>Configuration :</li> </ol> <pre><code>Federated credential scenario: GitHub Actions deploying Azure resources\nOrganization: EfreiBdx\nRepository: cocktail_base_3t\nEntity type: Environment\nEnvironment name: STAGING\n</code></pre> <ol> <li>Name: <code>github-staging-credential</code></li> <li>Ajouter</li> </ol>"},{"location":"getting-started/configuration/#assigner-les-permissions","title":"Assigner les permissions","text":"<pre><code># R\u00e9cup\u00e9rer l'Application ID\nAPP_ID=$(az ad app list --display-name \"github-actions-cocktail\" --query \"[0].appId\" -o tsv)\n\n# Assigner le r\u00f4le Contributor\naz role assignment create \\\n  --assignee $APP_ID \\\n  --role Contributor \\\n  --scope /subscriptions/&lt;SUBSCRIPTION_ID&gt;\n</code></pre>"},{"location":"getting-started/configuration/#github-secrets","title":"GitHub Secrets","text":"<p>Configurez les secrets suivants dans Settings \u2192 Secrets and variables \u2192 Actions :</p>"},{"location":"getting-started/configuration/#secrets-azure","title":"Secrets Azure","text":"Secret Valeur Comment l'obtenir <code>AZURE_CLIENT_ID</code> Application (client) ID App Registration \u2192 Overview <code>AZURE_TENANT_ID</code> Directory (tenant) ID App Registration \u2192 Overview <code>AZURE_SUBSCRIPTION_ID</code> Subscription ID Azure Portal \u2192 Subscriptions <pre><code># Obtenir les IDs via CLI\naz account show --query '{subscriptionId:id, tenantId:tenantId}' -o json\n</code></pre>"},{"location":"getting-started/configuration/#secrets-vm","title":"Secrets VM","text":"Secret Valeur Description <code>AZURE_VM_LOGIN</code> <code>azureuser</code> Login admin de la VM <code>AZURE_VM_PASSWORD</code> <code>MotDeP@sse123!</code> Password (complexe !) <p>S\u00e9curit\u00e9</p> <p>Utilisez un mot de passe fort : - Minimum 12 caract\u00e8res - Majuscules + minuscules - Chiffres - Caract\u00e8res sp\u00e9ciaux</p>"},{"location":"getting-started/configuration/#secrets-github","title":"Secrets GitHub","text":"Secret Valeur Description <code>MONOREPO_PAT</code> GitHub Personal Access Token Pour pull/push GHCR <p>Cr\u00e9er un PAT :</p> <ol> <li>GitHub \u2192 Settings \u2192 Developer settings \u2192 Personal access tokens \u2192 Tokens (classic)</li> <li>Generate new token (classic)</li> <li>Permissions : <code>write:packages</code>, <code>read:packages</code></li> <li>Copier le token</li> </ol>"},{"location":"getting-started/configuration/#secrets-optionnels-sonarqube-snyk","title":"Secrets optionnels (SonarQube, Snyk)","text":"Secret Service Comment l'obtenir <code>SONAR_TOKEN</code> SonarCloud sonarcloud.io \u2192 Account \u2192 Security <code>SNYK_TOKEN</code> Snyk app.snyk.io \u2192 Account Settings \u2192 API Token"},{"location":"getting-started/configuration/#github-environment","title":"GitHub Environment","text":"<p>Cr\u00e9ez un environment <code>STAGING</code> :</p> <ol> <li>GitHub Repo \u2192 Settings \u2192 Environments</li> <li>New environment : <code>STAGING</code></li> <li>(Optionnel) Ajouter des protection rules :</li> <li>Required reviewers</li> <li>Wait timer</li> <li>Deployment branches (develop, release/*)</li> </ol>"},{"location":"getting-started/configuration/#configuration-docker","title":"Configuration Docker","text":""},{"location":"getting-started/configuration/#variables-denvironnement-docker","title":"Variables d'environnement Docker","text":"<p>Le <code>docker-compose.yaml</code> utilise des variables :</p> <pre><code>services:\n  mono-back:\n    image: ${MONO_PROJECT_BACK}\n  mono-front:\n    image: ${MONO_PROJECT_FRONT}\n</code></pre>"},{"location":"getting-started/configuration/#fichier-env-docker-sur-la-vm","title":"Fichier <code>.env</code> Docker (sur la VM)","text":"<p>Cr\u00e9\u00e9 automatiquement par le workflow :</p> <pre><code>MONO_PROJECT_BACK=ghcr.io/efreibdx/cocktail_base_3t-back:canary\nMONO_PROJECT_FRONT=ghcr.io/efreibdx/cocktail_base_3t-front:canary\n</code></pre>"},{"location":"getting-started/configuration/#ports-exposes","title":"Ports expos\u00e9s","text":"Service Port interne Port externe Frontend 80 80 Backend 12000 12000 MariaDB 3306 (non expos\u00e9)"},{"location":"getting-started/configuration/#configuration-reseau-azure","title":"Configuration r\u00e9seau Azure","text":""},{"location":"getting-started/configuration/#network-security-group","title":"Network Security Group","text":"<p>Ouvert automatiquement par le workflow :</p> <pre><code>- Port 22 (SSH) : Acc\u00e8s administration\n- Port 80 (HTTP) : Frontend\n- Port 12000 : Backend API\n</code></pre>"},{"location":"getting-started/configuration/#dns","title":"DNS","text":"<p>Configuration DNS sur <code>demo.clic-boum-paf.com</code> :</p> <pre><code>az network dns record-set a add-record \\\n  -g ClicBoumPaf-DNS \\\n  -z demo.clic-boum-paf.com \\\n  -n monocanary \\\n  -a &lt;IP_VM&gt;\n</code></pre> <p>Acc\u00e8s Canary : <code>http://monocanary.demo.clic-boum-paf.com</code></p>"},{"location":"getting-started/configuration/#configuration-sonarqube","title":"Configuration SonarQube","text":""},{"location":"getting-started/configuration/#fichiers-de-configuration","title":"Fichiers de configuration","text":"<p>Backend : <code>backend/sonar-project.properties</code></p> <pre><code>sonar.projectKey=cocktail-backend\nsonar.organization=efreibdx\nsonar.sources=.\nsonar.exclusions=node_modules/**,test/**,coverage/**\nsonar.javascript.lcov.reportPaths=coverage/lcov.info\n</code></pre> <p>Frontend : <code>frontend/sonar-project.properties</code></p> <pre><code>sonar.projectKey=cocktail-frontend\nsonar.organization=efreibdx\nsonar.sources=src\nsonar.exclusions=node_modules/**,cypress/**,dist/**\nsonar.javascript.lcov.reportPaths=coverage/lcov.info\n</code></pre>"},{"location":"getting-started/configuration/#quality-gates","title":"Quality Gates","text":"<p>Configurez sur SonarCloud :</p> <ul> <li>Coverage : &gt; 80%</li> <li>Duplications : &lt; 3%</li> <li>Maintainability Rating : A</li> <li>Reliability Rating : A</li> <li>Security Rating : A</li> </ul>"},{"location":"getting-started/configuration/#configuration-snyk","title":"Configuration Snyk","text":""},{"location":"getting-started/configuration/#fichier-snyk-optionnel","title":"Fichier <code>.snyk</code> (optionnel)","text":"<pre><code># Snyk configuration\nversion: v1.22.0\n\n# Ignore specific vulnerabilities\nignore:\n  'SNYK-JS-AXIOS-1234567':\n    - '*':\n        reason: 'False positive - not exploitable in our context'\n        expires: '2024-12-31'\n</code></pre>"},{"location":"getting-started/configuration/#verification-de-la-configuration","title":"V\u00e9rification de la configuration","text":""},{"location":"getting-started/configuration/#script-de-verification","title":"Script de v\u00e9rification","text":"<pre><code>#!/bin/bash\n\necho \"V\u00e9rification de la configuration...\"\n\n# V\u00e9rifier .env backend\nif [ -f backend/.env ]; then\n    echo \"backend/.env existe\"\nelse\n    echo \"backend/.env manquant\"\nfi\n\n# V\u00e9rifier .env frontend\nif [ -f frontend/.env ]; then\n    echo \"frontend/.env existe\"\nelse\n    echo \"frontend/.env manquant\"\nfi\n\n# V\u00e9rifier les secrets GitHub (via API)\nif command -v gh &amp;&gt; /dev/null; then\n    echo \"Secrets GitHub :\"\n    gh secret list\nelse\n    echo \"GitHub CLI non install\u00e9 (impossible de v\u00e9rifier les secrets)\"\nfi\n\n# V\u00e9rifier Azure CLI\nif command -v az &amp;&gt; /dev/null; then\n    echo \"Azure CLI configur\u00e9\"\n    az account show --query '{subscription:name, user:user.name}' -o table\nelse\n    echo \"Azure CLI non configur\u00e9\"\nfi\n\necho \"\"\necho \"V\u00e9rification termin\u00e9e !\"\n</code></pre>"},{"location":"getting-started/configuration/#checklist-complete","title":"Checklist compl\u00e8te","text":"<ul> <li>[ ] <code>.env</code> backend cr\u00e9\u00e9</li> <li>[ ] <code>.env</code> frontend cr\u00e9\u00e9</li> <li>[ ] App Registration Azure cr\u00e9\u00e9e</li> <li>[ ] Federated credentials configur\u00e9s</li> <li>[ ] Role assignment Contributor d\u00e9fini</li> <li>[ ] Secrets GitHub configur\u00e9s :</li> <li>[ ] <code>AZURE_CLIENT_ID</code></li> <li>[ ] <code>AZURE_TENANT_ID</code></li> <li>[ ] <code>AZURE_SUBSCRIPTION_ID</code></li> <li>[ ] <code>AZURE_VM_LOGIN</code></li> <li>[ ] <code>AZURE_VM_PASSWORD</code></li> <li>[ ] <code>MONOREPO_PAT</code></li> <li>[ ] Environment <code>STAGING</code> cr\u00e9\u00e9</li> <li>[ ] (Optionnel) <code>SONAR_TOKEN</code> configur\u00e9</li> <li>[ ] (Optionnel) <code>SNYK_TOKEN</code> configur\u00e9</li> </ul>"},{"location":"getting-started/configuration/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<p>Configuration termin\u00e9e ? </p> <p>Architecture - Comprendre l'architecture CI/CD - Lancer les workflows Infrastructure - Approfondir Azure</p> <p>S\u00e9curit\u00e9</p> <p>Ne partagez JAMAIS vos secrets ou tokens. Utilisez toujours GitHub Secrets pour stocker les informations sensibles.</p>"},{"location":"getting-started/installation/","title":"Installation locale","text":"<p>Ce guide vous accompagne dans l'installation et le lancement du projet Cocktail ClicBoumPaf en local.</p>"},{"location":"getting-started/installation/#cloner-le-repository","title":"Cloner le repository","text":"<pre><code># Via HTTPS\ngit clone https://github.com/EfreiBdx/cocktail_base_3t.git\n\n# Ou via SSH (recommand\u00e9)\ngit clone git@github.com:EfreiBdx/cocktail_base_3t.git\n\n# Acc\u00e9der au projet\ncd cocktail_base_3t\n</code></pre>"},{"location":"getting-started/installation/#structure-du-projet","title":"Structure du projet","text":"<pre><code>cocktail_base_3t/\n\u251c\u2500\u2500 .github/\n\u2502   \u2514\u2500\u2500 workflows/          # Workflows GitHub Actions\n\u251c\u2500\u2500 backend/\n\u2502   \u251c\u2500\u2500 api/               # Logique API\n\u2502   \u251c\u2500\u2500 test/              # Tests Jest\n\u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u2514\u2500\u2500 server.js\n\u251c\u2500\u2500 frontend/\n\u2502   \u251c\u2500\u2500 src/               # Code source React\n\u2502   \u251c\u2500\u2500 cypress/           # Tests E2E\n\u2502   \u251c\u2500\u2500 Dockerfile\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u2514\u2500\u2500 vite.config.js\n\u251c\u2500\u2500 docker-compose.yaml    # Orchestration Docker\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"getting-started/installation/#methode-1-docker-compose-recommande","title":"M\u00e9thode 1 : Docker Compose (Recommand\u00e9)","text":"<p>La m\u00e9thode la plus simple pour lancer l'application compl\u00e8te.</p>"},{"location":"getting-started/installation/#etape-1-verifier-docker","title":"\u00c9tape 1 : V\u00e9rifier Docker","text":"<pre><code>docker --version\ndocker compose version\n</code></pre>"},{"location":"getting-started/installation/#etape-2-lancer-lapplication","title":"\u00c9tape 2 : Lancer l'application","text":"<pre><code># Lancer tous les services\ndocker compose up -d\n\n# V\u00e9rifier que les containers tournent\ndocker compose ps\n</code></pre> <p>Vous devriez voir 3 containers :</p> <pre><code>NAME                IMAGE                       PORTS\nmono-bdd            mariadb:latest              3306\nmono-back           ghcr.io/.../backend:canary  12000\nmono-front          ghcr.io/.../frontend:canary 80\n</code></pre>"},{"location":"getting-started/installation/#etape-3-acceder-a-lapplication","title":"\u00c9tape 3 : Acc\u00e9der \u00e0 l'application","text":"<ul> <li>Frontend : http://localhost</li> <li>Backend API : http://localhost:12000</li> </ul>"},{"location":"getting-started/installation/#etape-4-arreter-lapplication","title":"\u00c9tape 4 : Arr\u00eater l'application","text":"<pre><code># Arr\u00eater les containers\ndocker compose down\n\n# Arr\u00eater et supprimer les volumes (\u26a0\ufe0f supprime les donn\u00e9es)\ndocker compose down -v\n</code></pre>"},{"location":"getting-started/installation/#methode-2-installation-manuelle-developpement","title":"M\u00e9thode 2 : Installation manuelle (D\u00e9veloppement)","text":"<p>Pour d\u00e9velopper activement sur le backend ou le frontend.</p>"},{"location":"getting-started/installation/#backend","title":"Backend","text":""},{"location":"getting-started/installation/#1-lancer-la-base-de-donnees","title":"1. Lancer la base de donn\u00e9es","text":"<pre><code>docker compose -f docker-compose-local-bdd.yaml up -d\n</code></pre>"},{"location":"getting-started/installation/#2-installer-les-dependances","title":"2. Installer les d\u00e9pendances","text":"<pre><code>cd backend\nnpm install\n</code></pre>"},{"location":"getting-started/installation/#3-creer-le-fichier-env","title":"3. Cr\u00e9er le fichier <code>.env</code>","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Contenu du fichier <code>.env</code> :</p> <pre><code># Base de donn\u00e9es\nBDD_HOST=localhost\nBDD_PORT=3306\nBDD_USER=roger\nBDD_PASSWORD=regor\nBDD_NAME=bddname\n\n# Application\nPORT=12000\nNODE_ENV=development\n\n# JWT\nJWT_SECRET=your-super-secret-key-change-me\nJWT_EXPIRES_IN=24h\n</code></pre>"},{"location":"getting-started/installation/#4-initialiser-la-base-de-donnees","title":"4. Initialiser la base de donn\u00e9es","text":"<pre><code># Cr\u00e9er les tables\nnpm run initbdd\n\n# Peupler avec des donn\u00e9es de test\nnpm run populate\n</code></pre>"},{"location":"getting-started/installation/#5-lancer-le-serveur","title":"5. Lancer le serveur","text":"<pre><code># Mode d\u00e9veloppement (avec auto-reload)\nnpm run dev\n\n# Mode production\nnpm start\n</code></pre> <p>Le backend est accessible sur http://localhost:12000</p>"},{"location":"getting-started/installation/#frontend","title":"Frontend","text":""},{"location":"getting-started/installation/#1-installer-les-dependances","title":"1. Installer les d\u00e9pendances","text":"<pre><code>cd frontend\nnpm install\n</code></pre>"},{"location":"getting-started/installation/#2-creer-le-fichier-env","title":"2. Cr\u00e9er le fichier <code>.env</code>","text":"<pre><code>cp .env.example .env\n</code></pre> <p>Contenu du fichier <code>.env</code> :</p> <pre><code>VITE_API_URL=http://localhost:12000\n</code></pre>"},{"location":"getting-started/installation/#3-lancer-le-serveur-de-developpement","title":"3. Lancer le serveur de d\u00e9veloppement","text":"<pre><code># Mode d\u00e9veloppement avec hot-reload\nnpm run dev\n</code></pre> <p>Le frontend est accessible sur http://localhost:5173</p>"},{"location":"getting-started/installation/#4-build-pour-la-production","title":"4. Build pour la production","text":"<pre><code># Build classique\nnpm run build\n\n# Build pour l'environnement Canary\nnpm run build:canary\n</code></pre>"},{"location":"getting-started/installation/#lancer-les-tests","title":"Lancer les tests","text":""},{"location":"getting-started/installation/#tests-backend-jest","title":"Tests Backend (Jest)","text":"<pre><code>cd backend\n\n# Tous les tests\nnpm test\n\n# Avec coverage\nnpm run test:cov\n\n# Un fichier sp\u00e9cifique\nnpm run test:file users\n</code></pre>"},{"location":"getting-started/installation/#tests-frontend-cypress","title":"Tests Frontend (Cypress)","text":"<pre><code>cd frontend\n\n# Mode interactif\nnpm run cypress:open\n\n# Mode headless\nnpm run cypress:run\n\n# Coverage\nnpm run cypress:cov\n</code></pre>"},{"location":"getting-started/installation/#configuration-avancee","title":"Configuration avanc\u00e9e","text":""},{"location":"getting-started/installation/#variables-denvironnement","title":"Variables d'environnement","text":""},{"location":"getting-started/installation/#backend_1","title":"Backend","text":"Variable Description D\u00e9faut <code>BDD_HOST</code> H\u00f4te de la base de donn\u00e9es <code>localhost</code> <code>BDD_PORT</code> Port de la base de donn\u00e9es <code>3306</code> <code>BDD_USER</code> Utilisateur BDD <code>roger</code> <code>BDD_PASSWORD</code> Mot de passe BDD <code>regor</code> <code>BDD_NAME</code> Nom de la base <code>bddname</code> <code>PORT</code> Port du serveur backend <code>12000</code> <code>JWT_SECRET</code> Cl\u00e9 secr\u00e8te JWT -"},{"location":"getting-started/installation/#frontend_1","title":"Frontend","text":"Variable Description D\u00e9faut <code>VITE_API_URL</code> URL de l'API backend <code>http://localhost:12000</code>"},{"location":"getting-started/installation/#ports-utilises","title":"Ports utilis\u00e9s","text":"Service Port Description Frontend 80 (Docker) / 5173 (dev) Interface React Backend 12000 API Express.js MariaDB 3306 Base de donn\u00e9es"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#probleme-port-deja-utilise","title":"Probl\u00e8me : Port d\u00e9j\u00e0 utilis\u00e9","text":"<pre><code># Identifier le processus utilisant le port 80\nsudo lsof -i :80\n\n# Tuer le processus\nsudo kill -9 &lt;PID&gt;\n</code></pre>"},{"location":"getting-started/installation/#probleme-containers-ne-demarrent-pas","title":"Probl\u00e8me : Containers ne d\u00e9marrent pas","text":"<pre><code># Voir les logs\ndocker compose logs\n\n# Logs d'un service sp\u00e9cifique\ndocker compose logs mono-back\n\n# Reconstruire les images\ndocker compose up -d --build\n</code></pre>"},{"location":"getting-started/installation/#probleme-base-de-donnees-vide","title":"Probl\u00e8me : Base de donn\u00e9es vide","text":"<pre><code># Se connecter au container de la BDD\ndocker exec -it mono-bdd bash\n\n# Se connecter \u00e0 MariaDB\nmysql -u roger -pregor bddname\n\n# V\u00e9rifier les tables\nSHOW TABLES;\n</code></pre> <p>Si vide, relancer l'initialisation :</p> <pre><code>cd backend\nnpm run initbdd\nnpm run populate\n</code></pre>"},{"location":"getting-started/installation/#probleme-cors-lors-du-developpement","title":"Probl\u00e8me : CORS lors du d\u00e9veloppement","text":"<p>Assurez-vous que <code>VITE_API_URL</code> pointe vers le bon backend et que le backend accepte les requ\u00eates depuis le frontend.</p>"},{"location":"getting-started/installation/#verification-de-linstallation","title":"V\u00e9rification de l'installation","text":"<p>Une fois tout install\u00e9, v\u00e9rifiez :</p>"},{"location":"getting-started/installation/#backend_2","title":"Backend","text":"<pre><code>curl http://localhost:12000/health\n# Devrait retourner : {\"status\":\"ok\"}\n</code></pre>"},{"location":"getting-started/installation/#frontend_2","title":"Frontend","text":"<p>Ouvrez http://localhost (Docker) ou http://localhost:5173 (dev)</p>"},{"location":"getting-started/installation/#base-de-donnees","title":"Base de donn\u00e9es","text":"<pre><code>docker exec -it mono-bdd mysql -u roger -pregor -e \"USE bddname; SHOW TABLES;\"\n</code></pre>"},{"location":"getting-started/installation/#installation-reussie","title":"Installation r\u00e9ussie !","text":"<p>Votre environnement local est pr\u00eat ! </p>"},{"location":"getting-started/installation/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ol> <li>Configuration - Configurer les secrets et variables</li> <li>Backend API - Comprendre l'API</li> <li>Frontend React - Comprendre l'interface</li> </ol> <p>Conseil pour le d\u00e9veloppement</p> <p>Utilisez Docker Compose pour la BDD et lancez backend/frontend manuellement pour b\u00e9n\u00e9ficier du hot-reload pendant le d\u00e9veloppement.</p> <pre><code># Terminal 1 : BDD\ndocker compose -f docker-compose-local-bdd.yaml up\n\n# Terminal 2 : Backend\ncd backend &amp;&amp; npm run dev\n\n# Terminal 3 : Frontend\ncd frontend &amp;&amp; npm run dev\n</code></pre>"},{"location":"getting-started/introduction/","title":"Introduction","text":"<p>Bienvenue dans la documentation du projet Cocktail ClicBoumPaf !</p>"},{"location":"getting-started/introduction/#phases-du-projet","title":"Phases du projet","text":"<p>Le projet est structur\u00e9 en trois phases progressives :</p>"},{"location":"getting-started/introduction/#phase-1-devsecops-gitflow-azure-armbicep-actuel","title":"Phase 1 : DevSecOps GitFlow &amp; Azure ARM/BICEP (Actuel)","text":"<p>Stack : React + Express.js + MariaDB D\u00e9ploiement : Azure VM avec ARM Templates CI/CD : GitHub Actions avec GitFlow</p> <p>Ce que vous allez apprendre :</p> <ul> <li>Mettre en place un workflow GitFlow (branches develop, release, main)</li> <li>Cr\u00e9er des pipelines CI/CD avec GitHub Actions</li> <li>Impl\u00e9menter des tests automatis\u00e9s (Jest, Cypress)</li> <li>Int\u00e9grer l'analyse de qualit\u00e9 (SonarQube)</li> <li>Scanner la s\u00e9curit\u00e9 (Snyk, Trivy, OWASP ZAP)</li> <li>D\u00e9ployer sur Azure avec ARM/Bicep</li> <li>G\u00e9rer l'authentification OIDC pour Azure</li> <li>Impl\u00e9menter une strat\u00e9gie Canary Release</li> </ul>"},{"location":"getting-started/introduction/#phase-2-gitops-kubernetes-a-venir","title":"Phase 2 : GitOps &amp; Kubernetes (\u00c0 venir)","text":"<p>Stack : React + Express.js + MariaDB D\u00e9ploiement : Kubernetes (AKS ou EKS) CI/CD : ArgoCD / Flux</p> <p>Ce que vous allez apprendre :</p> <ul> <li>Migrer vers Kubernetes</li> <li>Comprendre les concepts K8s (Pods, Services, Deployments, Ingress)</li> <li>Mettre en place GitOps avec ArgoCD/Flux</li> <li>G\u00e9rer les configurations avec Helm</li> <li>Impl\u00e9menter le monitoring (Prometheus, Grafana)</li> </ul>"},{"location":"getting-started/introduction/#phase-3-architecture-microservices-a-venir","title":"Phase 3 : Architecture Microservices (\u00c0 venir)","text":"<p>Stack : Microservices + Event-Driven D\u00e9ploiement : Kubernetes CI/CD : GitOps avanc\u00e9</p> <p>Ce que vous allez apprendre :</p> <ul> <li>D\u00e9couper l'application en microservices</li> <li>Impl\u00e9menter la communication asynchrone (message queues)</li> <li>G\u00e9rer la complexit\u00e9 des microservices</li> <li>Service mesh (Istio)</li> <li>Observabilit\u00e9 avanc\u00e9e</li> </ul>"},{"location":"getting-started/introduction/#architecture-actuelle-phase-1","title":"Architecture actuelle (Phase 1)","text":"<p>L'application suit une architecture 3-tiers classique :</p> <pre><code>graph TB\n    subgraph \"Tier 1 - Pr\u00e9sentation\"\n        A[Frontend React]\n    end\n\n    subgraph \"Tier 2 - Application\"\n        B[Backend Express.js]\n    end\n\n    subgraph \"Tier 3 - Donn\u00e9es\"\n        C[MariaDB]\n    end\n\n    A --&gt;|API REST| B\n    B --&gt;|Sequelize ORM| C\n\n    style A fill:#e3f2fd\n    style B fill:#bbdefb\n    style C fill:#64b5f6</code></pre> <p>Composants :</p> <ul> <li>Frontend : Application React moderne avec React Router</li> <li>Backend : API REST avec Express.js et authentification JWT</li> <li>Base de donn\u00e9es : MariaDB avec Sequelize ORM</li> </ul>"},{"location":"getting-started/introduction/#flux-de-developpement-gitflow","title":"Flux de d\u00e9veloppement (GitFlow)","text":"<p>Le projet utilise GitFlow pour g\u00e9rer les diff\u00e9rents environnements :</p> <pre><code>gitGraph\n    commit id: \"Initial\"\n    branch develop\n    checkout develop\n    commit id: \"Feature 1\"\n    commit id: \"Feature 2\"\n\n    branch release/1.0\n    checkout release/1.0\n    commit id: \"Release prep\"\n\n    checkout main\n    merge release/1.0 tag: \"v1.0\"\n\n    checkout develop\n    merge release/1.0</code></pre> <p>Branches principales :</p> <ul> <li><code>main</code> : Production (d\u00e9ploiement final)</li> <li><code>develop</code> : Int\u00e9gration continue (environnement Canary)</li> <li><code>release/*</code> : Pr\u00e9paration de release</li> <li><code>feature/*</code> : D\u00e9veloppement de fonctionnalit\u00e9s</li> </ul>"},{"location":"getting-started/introduction/#workflows-cicd","title":"Workflows CI/CD","text":"<p>Le projet impl\u00e9mente deux workflows principaux :</p>"},{"location":"getting-started/introduction/#workflow-01-integration-pull-request-develop","title":"Workflow 01 - Integration (Pull Request \u2192 develop)","text":"<p>D\u00e9clench\u00e9 lors d'une Pull Request vers <code>develop</code> :</p> <ol> <li>Tests Backend (Jest)</li> <li>Tests Frontend (Cypress E2E)</li> <li>Analyse SonarQube (qualit\u00e9 du code)</li> <li>Scan Snyk (vuln\u00e9rabilit\u00e9s des d\u00e9pendances)</li> </ol>"},{"location":"getting-started/introduction/#workflow-02-canary-push-develop","title":"Workflow 02 - Canary (Push \u2192 develop)","text":"<p>D\u00e9clench\u00e9 lors d'un push sur <code>develop</code> :</p> <ol> <li>Build Docker (images backend + frontend)</li> <li>Scan Trivy (vuln\u00e9rabilit\u00e9s des containers)</li> <li>Deploy Azure (VM avec ARM/Bicep)</li> <li>OWASP ZAP (pentest de l'application d\u00e9ploy\u00e9e)</li> </ol>"},{"location":"getting-started/introduction/#prerequis","title":"Pr\u00e9requis","text":"<p>Avant de commencer, vous devez conna\u00eetre :</p> <p>Obligatoire :</p> <ul> <li>Git &amp; GitHub</li> <li>JavaScript/Node.js</li> <li>Concepts de base HTTP/REST</li> <li>Docker basics</li> <li>Linux command line</li> </ul> <p>Recommand\u00e9 :</p> <ul> <li>React basics</li> <li>Express.js</li> <li>SQL</li> <li>GitHub Actions</li> <li>Cloud computing (Azure)</li> </ul> <p>Liste compl\u00e8te des pr\u00e9requis</p>"},{"location":"getting-started/introduction/#comment-utiliser-cette-documentation","title":"Comment utiliser cette documentation","text":"<p>Cette documentation est organis\u00e9e par th\u00e9matique :</p> <ol> <li>Commencez par Pr\u00e9requis et Installation</li> <li>Comprenez l'architecture dans la section Architecture</li> <li>Explorez les workflows dans CI/CD &amp; DevSecOps</li> <li>Apprenez \u00e0 d\u00e9ployer dans Infrastructure Azure</li> <li>D\u00e9veloppez avec les guides de la section D\u00e9veloppement</li> </ol>"},{"location":"getting-started/introduction/#pourquoi-cocktail","title":"Pourquoi \"Cocktail\" ?","text":"<p>C'est juste un nom de projet fun pour un exercice p\u00e9dagogique ! Il n'y a aucune logique m\u00e9tier de gestion de cocktails dans l'app.</p> <p>L'important n'est pas ce que fait l'application, mais comment elle est construite, test\u00e9e, s\u00e9curis\u00e9e et d\u00e9ploy\u00e9e.</p>"},{"location":"getting-started/introduction/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<p>Pr\u00eat \u00e0 commencer ? </p> <ol> <li>V\u00e9rifiez les pr\u00e9requis </li> <li>Installez le projet localement </li> <li>Configurez votre environnement </li> </ol>"},{"location":"getting-started/prerequisites/","title":"Pr\u00e9requis","text":"<p>Avant de commencer \u00e0 travailler sur le projet Cocktail ClicBoumPaf, assurez-vous d'avoir les connaissances et outils suivants.</p>"},{"location":"getting-started/prerequisites/#connaissances-requises","title":"Connaissances requises","text":""},{"location":"getting-started/prerequisites/#obligatoires","title":"Obligatoires","text":"Comp\u00e9tence Niveau Description Git &amp; GitHub Interm\u00e9diaire Branches, commits, pull requests, merge JavaScript Interm\u00e9diaire ES6+, async/await, promises Node.js Basique npm, package.json, modules HTTP/REST Basique M\u00e9thodes HTTP, statuts, APIs REST Docker Basique Images, containers, docker-compose Linux CLI Basique Navigation, commandes de base, bash"},{"location":"getting-started/prerequisites/#recommandees","title":"Recommand\u00e9es","text":"Comp\u00e9tence Description React Components, hooks, state management Express.js Routing, middleware, API REST SQL Requ\u00eates de base, relations GitHub Actions Workflows YAML, CI/CD basics Azure VM, networking, ARM/Bicep DevOps Principes CI/CD, infrastructure as code"},{"location":"getting-started/prerequisites/#environnement-de-developpement-local","title":"Environnement de d\u00e9veloppement local","text":""},{"location":"getting-started/prerequisites/#systeme-dexploitation","title":"Syst\u00e8me d'exploitation","text":"<p>Le projet fonctionne sur :</p> <ul> <li>Linux (Ubuntu 20.04+, Debian 11+)</li> <li>macOS (Big Sur 11+)</li> <li>Windows 10/11 avec WSL2</li> </ul> <p>Windows sans WSL2</p> <p>Le d\u00e9veloppement natif sur Windows (sans WSL2) n'est pas recommand\u00e9 et peut causer des probl\u00e8mes avec Docker et les scripts shell.</p>"},{"location":"getting-started/prerequisites/#outils-obligatoires","title":"Outils obligatoires","text":""},{"location":"getting-started/prerequisites/#1-git-v230","title":"1. Git (v2.30+)","text":"<pre><code># V\u00e9rifier l'installation\ngit --version\n\n# Installation sur Ubuntu/Debian\nsudo apt-get update\nsudo apt-get install git\n\n# Installation sur macOS\nbrew install git\n</code></pre>"},{"location":"getting-started/prerequisites/#2-nodejs-lts-v20170","title":"2. Node.js LTS (v20.17.0+)","text":"<pre><code># V\u00e9rifier l'installation\nnode --version\nnpm --version\n\n# Installation avec nvm (recommand\u00e9)\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash\nnvm install 20\nnvm use 20\n\n# Ou via le site officiel\n# https://nodejs.org/\n</code></pre>"},{"location":"getting-started/prerequisites/#3-docker-v2010-docker-compose-v20","title":"3. Docker (v20.10+) &amp; Docker Compose (v2.0+)","text":"<pre><code># V\u00e9rifier l'installation\ndocker --version\ndocker compose version\n\n# Installation sur Ubuntu\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\nsudo usermod -aG docker $USER\n\n# Installation sur macOS\n# T\u00e9l\u00e9charger Docker Desktop\n# https://www.docker.com/products/docker-desktop\n</code></pre>"},{"location":"getting-started/prerequisites/#4-ide-editeur-de-code","title":"4. IDE / \u00c9diteur de code","text":"<p>Recommand\u00e9 : Visual Studio Code avec extensions :</p> <ul> <li>ESLint</li> <li>Prettier</li> <li>Docker</li> <li>GitLens</li> <li>YAML</li> <li>Bicep (pour Azure)</li> </ul> <p>Alternatives : WebStorm, Sublime Text, Vim/Neovim</p>"},{"location":"getting-started/prerequisites/#outils-optionnels-mais-recommandes","title":"Outils optionnels (mais recommand\u00e9s)","text":""},{"location":"getting-started/prerequisites/#1-azure-cli-v250","title":"1. Azure CLI (v2.50+)","text":"<p>N\u00e9cessaire pour g\u00e9rer l'infrastructure Azure :</p> <pre><code># Installation sur Ubuntu/Debian\ncurl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash\n\n# Installation sur macOS\nbrew install azure-cli\n\n# V\u00e9rification\naz --version\n\n# Login\naz login\n</code></pre>"},{"location":"getting-started/prerequisites/#2-github-cli-gh","title":"2. GitHub CLI (gh)","text":"<p>Facilite les interactions avec GitHub :</p> <pre><code># Installation sur Ubuntu\nsudo apt install gh\n\n# Installation sur macOS\nbrew install gh\n\n# Authentification\ngh auth login\n</code></pre>"},{"location":"getting-started/prerequisites/#3-postman-insomnia","title":"3. Postman / Insomnia","text":"<p>Pour tester l'API manuellement :</p> <ul> <li>Postman</li> <li>Insomnia</li> </ul>"},{"location":"getting-started/prerequisites/#4-dbeaver-mysql-workbench","title":"4. DBeaver / MySQL Workbench","text":"<p>Pour explorer la base de donn\u00e9es :</p> <ul> <li>DBeaver Community</li> <li>MySQL Workbench</li> </ul>"},{"location":"getting-started/prerequisites/#acces-et-comptes","title":"Acc\u00e8s et comptes","text":""},{"location":"getting-started/prerequisites/#github","title":"GitHub","text":"<ul> <li>Compte GitHub actif</li> <li>Cl\u00e9 SSH configur\u00e9e (Guide)</li> <li>Acc\u00e8s au repository (si priv\u00e9)</li> </ul>"},{"location":"getting-started/prerequisites/#azure-pour-le-deploiement","title":"Azure (pour le d\u00e9ploiement)","text":"<ul> <li>Compte Azure (\u00e9tudiant ou gratuit)</li> <li>Souscription active</li> <li>App Registration pour OIDC (voir guide OIDC)</li> </ul>"},{"location":"getting-started/prerequisites/#services-tiers-optionnels","title":"Services tiers (optionnels)","text":"<p>Pour utiliser tous les workflows CI/CD :</p> <ul> <li>SonarQube : Compte sur SonarCloud ou instance locale</li> <li>Snyk : Compte gratuit pour les scans de s\u00e9curit\u00e9</li> </ul>"},{"location":"getting-started/prerequisites/#verification-de-lenvironnement","title":"V\u00e9rification de l'environnement","text":"<p>Script de v\u00e9rification rapide :</p> <pre><code>#!/bin/bash\n\necho \"V\u00e9rification de l'environnement...\"\n\n# Git\nif command -v git &amp;&gt; /dev/null; then\n    echo \"Git $(git --version)\"\nelse\n    echo \"Git non install\u00e9\"\nfi\n\n# Node.js\nif command -v node &amp;&gt; /dev/null; then\n    echo \"Node.js $(node --version)\"\nelse\n    echo \"Node.js non install\u00e9\"\nfi\n\n# npm\nif command -v npm &amp;&gt; /dev/null; then\n    echo \"npm $(npm --version)\"\nelse\n    echo \"npm non install\u00e9\"\nfi\n\n# Docker\nif command -v docker &amp;&gt; /dev/null; then\n    echo \"Docker $(docker --version)\"\nelse\n    echo \"Docker non install\u00e9\"\nfi\n\n# Docker Compose\nif command -v docker compose &amp;&gt; /dev/null; then\n    echo \"Docker Compose $(docker compose version)\"\nelse\n    echo \"Docker Compose non install\u00e9\"\nfi\n\n# Azure CLI (optionnel)\nif command -v az &amp;&gt; /dev/null; then\n    echo \"Azure CLI $(az version --query '\"azure-cli\"' -o tsv)\"\nelse\n    echo \"Azure CLI non install\u00e9 (optionnel)\"\nfi\n\necho \"\"\necho \"V\u00e9rification termin\u00e9e !\"\n</code></pre> <p>Enregistrez ce script dans <code>check-env.sh</code>, rendez-le ex\u00e9cutable et lancez-le :</p> <pre><code>chmod +x check-env.sh\n./check-env.sh\n</code></pre>"},{"location":"getting-started/prerequisites/#ressources-dapprentissage","title":"\ud83c\udf93 Ressources d'apprentissage","text":"<p>Si vous avez des lacunes sur certains pr\u00e9requis, voici des ressources pour vous former :</p>"},{"location":"getting-started/prerequisites/#git-github","title":"Git &amp; GitHub","text":"<ul> <li>Pro Git Book (gratuit)</li> <li>GitHub Learning Lab</li> <li>Learn Git Branching</li> </ul>"},{"location":"getting-started/prerequisites/#javascript-nodejs","title":"JavaScript / Node.js","text":"<ul> <li>MDN Web Docs - JavaScript</li> <li>Node.js Documentation</li> <li>JavaScript.info</li> </ul>"},{"location":"getting-started/prerequisites/#react","title":"React","text":"<ul> <li>Documentation officielle React</li> <li>React Tutorial</li> </ul>"},{"location":"getting-started/prerequisites/#docker","title":"Docker","text":"<ul> <li>Docker Getting Started</li> <li>Docker Compose Documentation</li> </ul>"},{"location":"getting-started/prerequisites/#azure","title":"Azure","text":"<ul> <li>Azure Fundamentals Learning Path</li> <li>Bicep Documentation</li> </ul>"},{"location":"getting-started/prerequisites/#devops-cicd","title":"DevOps / CI/CD","text":"<ul> <li>GitHub Actions Documentation</li> <li>The DevOps Handbook</li> </ul>"},{"location":"getting-started/prerequisites/#checklist-avant-de-commencer","title":"Checklist avant de commencer","text":"<p>Avant de passer \u00e0 l'installation, v\u00e9rifiez que vous avez :</p> <ul> <li>[ ] Git install\u00e9 et configur\u00e9</li> <li>[ ] Node.js LTS install\u00e9</li> <li>[ ] Docker et Docker Compose install\u00e9s</li> <li>[ ] Un IDE configur\u00e9</li> <li>[ ] Acc\u00e8s au repository GitHub</li> <li>[ ] Compte Azure (si d\u00e9ploiement pr\u00e9vu)</li> <li>[ ] Compr\u00e9hension basique de JavaScript et REST APIs</li> </ul>"},{"location":"getting-started/prerequisites/#prochaine-etape","title":"Prochaine \u00e9tape","text":"<p>Tous les pr\u00e9requis sont remplis ? Parfait ! </p> <p>Installation du projet</p>"},{"location":"troubleshooting/faq/","title":"FAQ - Questions fr\u00e9quentes","text":"<p>Retrouvez ici les r\u00e9ponses aux questions les plus fr\u00e9quentes.</p>"},{"location":"troubleshooting/faq/#installation-configuration","title":"Installation &amp; Configuration","text":""},{"location":"troubleshooting/faq/#q-jai-une-erreur-port-already-in-use-au-demarrage","title":"Q: J'ai une erreur \"port already in use\" au d\u00e9marrage","text":"<p>R: Un autre processus utilise le port. Solutions :</p> <pre><code># Identifier le processus sur le port 80\nsudo lsof -i :80\n# ou\nsudo netstat -tlnp | grep :80\n\n# Tuer le processus\nsudo kill -9 &lt;PID&gt;\n\n# Ou changer le port dans docker-compose.yaml\nports:\n  - 8080:80  # Au lieu de 80:80\n</code></pre>"},{"location":"troubleshooting/faq/#q-docker-compose-echoue-avec-permission-denied","title":"Q: Docker Compose \u00e9choue avec \"permission denied\"","text":"<p>R: Votre utilisateur n'est pas dans le groupe docker :</p> <pre><code># Ajouter votre user au groupe docker\nsudo usermod -aG docker $USER\n\n# Se d\u00e9connecter et reconnecter\n# Ou red\u00e9marrer la session\nnewgrp docker\n\n# V\u00e9rifier\ndocker ps\n</code></pre>"},{"location":"troubleshooting/faq/#q-la-base-de-donnees-ne-demarre-pas","title":"Q: La base de donn\u00e9es ne d\u00e9marre pas","text":"<p>R: V\u00e9rifiez les logs :</p> <pre><code>docker compose logs mono-bdd\n\n# Souvent c'est un probl\u00e8me de volumes\n# Supprimer les volumes et recr\u00e9er\ndocker compose down -v\ndocker compose up -d\n</code></pre>"},{"location":"troubleshooting/faq/#q-npm-install-echoue","title":"Q: <code>npm install</code> \u00e9choue","text":"<p>R: V\u00e9rifiez votre version de Node.js :</p> <pre><code>node --version  # Doit \u00eatre &gt;= 20.17.0\n\n# Mettre \u00e0 jour Node via nvm\nnvm install 20\nnvm use 20\n\n# Nettoyer le cache npm\nnpm cache clean --force\nrm -rf node_modules package-lock.json\nnpm install\n</code></pre>"},{"location":"troubleshooting/faq/#docker","title":"Docker","text":""},{"location":"troubleshooting/faq/#q-comment-reconstruire-les-images-docker","title":"Q: Comment reconstruire les images Docker ?","text":"<p>R:</p> <pre><code># Reconstruire toutes les images\ndocker compose build\n\n# Reconstruire sans cache\ndocker compose build --no-cache\n\n# Reconstruire et d\u00e9marrer\ndocker compose up -d --build\n</code></pre>"},{"location":"troubleshooting/faq/#q-comment-voir-les-logs-dun-container","title":"Q: Comment voir les logs d'un container ?","text":"<p>R:</p> <pre><code># Tous les containers\ndocker compose logs\n\n# Un container sp\u00e9cifique\ndocker compose logs mono-back\n\n# Suivre les logs en temps r\u00e9el\ndocker compose logs -f mono-back\n\n# Derni\u00e8res 100 lignes\ndocker compose logs --tail=100 mono-back\n</code></pre>"},{"location":"troubleshooting/faq/#q-comment-acceder-au-shell-dun-container","title":"Q: Comment acc\u00e9der au shell d'un container ?","text":"<p>R:</p> <pre><code># Backend\ndocker exec -it mono-back sh\n\n# Base de donn\u00e9es\ndocker exec -it mono-bdd bash\n\n# Se connecter \u00e0 MySQL\ndocker exec -it mono-bdd mysql -u roger -pregor bddname\n</code></pre>"},{"location":"troubleshooting/faq/#azure-deploiement","title":"Azure &amp; D\u00e9ploiement","text":""},{"location":"troubleshooting/faq/#q-erreur-no-subscriptions-found-lors-du-login-azure","title":"Q: Erreur \"No subscriptions found\" lors du login Azure","text":"<p>R: Votre Service Principal n'a pas acc\u00e8s \u00e0 la souscription :</p> <pre><code># Assigner le r\u00f4le Contributor\naz role assignment create \\\n  --assignee &lt;CLIENT_ID&gt; \\\n  --role Contributor \\\n  --scope /subscriptions/&lt;SUBSCRIPTION_ID&gt;\n\n# Attendre 5-10 minutes pour propagation\n</code></pre>"},{"location":"troubleshooting/faq/#q-erreur-oidc-no-matching-federated-identity","title":"Q: Erreur OIDC \"No matching federated identity\"","text":"<p>R: Le subject claim ne correspond pas :</p> <ol> <li>V\u00e9rifiez que l'environment <code>STAGING</code> existe dans GitHub</li> <li>V\u00e9rifiez le subject dans Azure :    <pre><code>repo:EfreiBdx/cocktail_base_3t:environment:STAGING\n</code></pre></li> <li>Recr\u00e9ez le federated credential si n\u00e9cessaire</li> <li>Attendez 5-10 minutes</li> </ol>"},{"location":"troubleshooting/faq/#q-erreur-ipv4basicskupublicipcountlimitreached","title":"Q: Erreur \"IPv4BasicSkuPublicIpCountLimitReached\"","text":"<p>R: Quota d'IP Basic atteint. Solution :</p> <p>Modifiez le Bicep pour utiliser Standard SKU :</p> <pre><code>resource publicIP 'Microsoft.Network/publicIPAddresses@2023-09-01' = {\n  sku: {\n    name: 'Standard'  // Au lieu de 'Basic'\n  }\n  properties: {\n    publicIPAllocationMethod: 'Static'  // Standard n\u00e9cessite Static\n  }\n}\n</code></pre>"},{"location":"troubleshooting/faq/#q-la-vm-azure-ne-demarre-pas","title":"Q: La VM Azure ne d\u00e9marre pas","text":"<p>R: V\u00e9rifiez :</p> <pre><code># Voir le statut de la VM\naz vm get-instance-view \\\n  --name Canary-Server \\\n  --resource-group ClicBoumPaf-Canary \\\n  --query instanceView.statuses\n\n# Voir les logs de boot\naz vm boot-diagnostics get-boot-log \\\n  --name Canary-Server \\\n  --resource-group ClicBoumPaf-Canary\n</code></pre>"},{"location":"troubleshooting/faq/#github-actions","title":"GitHub Actions","text":""},{"location":"troubleshooting/faq/#q-mon-workflow-ne-se-declenche-pas","title":"Q: Mon workflow ne se d\u00e9clenche pas","text":"<p>R: V\u00e9rifiez :</p> <ol> <li> <p>Le trigger dans le fichier YAML :    <pre><code>on:\n  push:\n    branches:\n      - develop  # V\u00e9rifiez que c'est la bonne branche\n</code></pre></p> </li> <li> <p>Les permissions du workflow :    <pre><code>permissions:\n  contents: read\n  id-token: write\n</code></pre></p> </li> <li> <p>Que l'environment existe (si utilis\u00e9)</p> </li> </ol>"},{"location":"troubleshooting/faq/#q-workflow-echoue-avec-resource-not-found","title":"Q: Workflow \u00e9choue avec \"Resource not found\"","text":"<p>R: Souvent un probl\u00e8me de permissions ou de secrets :</p> <ol> <li>V\u00e9rifiez que tous les secrets sont configur\u00e9s</li> <li>V\u00e9rifiez les permissions de l'App Registration</li> <li>V\u00e9rifiez que le resource group existe</li> </ol>"},{"location":"troubleshooting/faq/#q-comment-relancer-un-workflow-echoue","title":"Q: Comment relancer un workflow \u00e9chou\u00e9 ?","text":"<p>R:</p> <ol> <li>Aller dans Actions</li> <li>Cliquer sur le workflow \u00e9chou\u00e9</li> <li>Cliquer sur Re-run failed jobs</li> <li>Ou Re-run all jobs</li> </ol>"},{"location":"troubleshooting/faq/#q-comment-voir-les-logs-detailles-dun-workflow","title":"Q: Comment voir les logs d\u00e9taill\u00e9s d'un workflow ?","text":"<p>R:</p> <ol> <li>Aller dans Actions</li> <li>Cliquer sur le workflow</li> <li>Cliquer sur un job</li> <li>D\u00e9plier les steps pour voir les logs d\u00e9taill\u00e9s</li> </ol>"},{"location":"troubleshooting/faq/#tests","title":"Tests","text":""},{"location":"troubleshooting/faq/#q-les-tests-cypress-echouent-en-local","title":"Q: Les tests Cypress \u00e9chouent en local","text":"<p>R:</p> <pre><code># V\u00e9rifier que le backend tourne\ncurl http://localhost:12000/health\n\n# V\u00e9rifier que le frontend tourne\ncurl http://localhost:5173\n\n# Relancer Cypress en mode debug\nnpm run cypress:open\n</code></pre>"},{"location":"troubleshooting/faq/#q-coverage-trop-basse","title":"Q: Coverage trop basse","text":"<p>R: Ajoutez des tests :</p> <pre><code># Voir le rapport de coverage\nnpm run test:cov\n\n# Ouvrir le rapport HTML\nopen coverage/lcov-report/index.html\n</code></pre>"},{"location":"troubleshooting/faq/#q-comment-tester-une-route-specifique","title":"Q: Comment tester une route sp\u00e9cifique ?","text":"<p>R:</p> <pre><code># Backend - un fichier de test\nnpm run test:file users\n\n# Frontend - un test Cypress\nnpx cypress run --spec \"cypress/e2e/login.cy.js\"\n</code></pre>"},{"location":"troubleshooting/faq/#securite","title":"S\u00e9curit\u00e9","text":""},{"location":"troubleshooting/faq/#q-snyk-trouve-des-vulnerabilites-que-faire","title":"Q: Snyk trouve des vuln\u00e9rabilit\u00e9s, que faire ?","text":"<p>R:</p> <pre><code># Voir les d\u00e9tails\nnpm audit\n\n# Corriger automatiquement\nnpm audit fix\n\n# Forcer les corrections (attention)\nnpm audit fix --force\n\n# Ignorer une vuln\u00e9rabilit\u00e9 (si false positive)\n# Cr\u00e9er un fichier .snyk\n</code></pre>"},{"location":"troubleshooting/faq/#q-sonarqube-signale-du-code-duplique","title":"Q: SonarQube signale du code dupliqu\u00e9","text":"<p>R: Refactorisez le code dupliqu\u00e9 :</p> <pre><code>// Avant\nconst getUserById = (id) =&gt; User.findByPk(id);\nconst getPostById = (id) =&gt; Post.findByPk(id);\n\n// Apr\u00e8s\nconst getByIdFactory = (Model) =&gt; (id) =&gt; Model.findByPk(id);\nconst getUserById = getByIdFactory(User);\nconst getPostById = getByIdFactory(Post);\n</code></pre>"},{"location":"troubleshooting/faq/#frontend","title":"Frontend","text":""},{"location":"troubleshooting/faq/#q-erreur-cors-lors-des-appels-api","title":"Q: Erreur CORS lors des appels API","text":"<p>R: Configurez le proxy Vite :</p> <pre><code>// vite.config.js\nexport default defineConfig({\n  server: {\n    proxy: {\n      '/api': {\n        target: 'http://localhost:12000',\n        changeOrigin: true,\n      }\n    }\n  }\n})\n</code></pre>"},{"location":"troubleshooting/faq/#q-react-router-ne-fonctionne-pas-en-production","title":"Q: React Router ne fonctionne pas en production","text":"<p>R: Configurez nginx pour le SPA :</p> <pre><code>location / {\n  try_files $uri $uri/ /index.html;\n}\n</code></pre>"},{"location":"troubleshooting/faq/#base-de-donnees","title":"\ud83d\udcbe Base de donn\u00e9es","text":""},{"location":"troubleshooting/faq/#q-comment-reinitialiser-la-base-de-donnees","title":"Q: Comment r\u00e9initialiser la base de donn\u00e9es ?","text":"<p>R:</p> <pre><code># Via Docker\ndocker compose down -v  # Supprime les volumes\ndocker compose up -d\n\n# Puis r\u00e9initialiser\ncd backend\nnpm run initbdd\nnpm run populate\n</code></pre>"},{"location":"troubleshooting/faq/#q-comment-acceder-a-la-base-de-donnees","title":"Q: Comment acc\u00e9der \u00e0 la base de donn\u00e9es ?","text":"<p>R:</p> <pre><code># Via docker exec\ndocker exec -it mono-bdd mysql -u roger -pregor bddname\n\n# Ou via un client comme DBeaver\nHost: localhost\nPort: 3306\nUser: roger\nPassword: regor\nDatabase: bddname\n</code></pre>"},{"location":"troubleshooting/faq/#q-sequelize-ne-trouve-pas-la-table","title":"Q: Sequelize ne trouve pas la table","text":"<p>R: Synchronisez les mod\u00e8les :</p> <pre><code>// En d\u00e9veloppement uniquement !\nawait sequelize.sync({ force: true });  // Supprime les donn\u00e9es\nawait sequelize.sync({ alter: true });  // Modifie les tables\n</code></pre>"},{"location":"troubleshooting/faq/#documentation","title":"Documentation","text":""},{"location":"troubleshooting/faq/#q-comment-contribuer-a-la-documentation","title":"Q: Comment contribuer \u00e0 la documentation ?","text":"<p>R:</p> <ol> <li>Cloner le repo de docs</li> <li>Installer MkDocs : <code>pip install mkdocs-material</code></li> <li>\u00c9diter les fichiers markdown dans <code>docs/</code></li> <li>Pr\u00e9visualiser : <code>mkdocs serve</code></li> <li>Soumettre une PR</li> </ol>"},{"location":"troubleshooting/faq/#q-comment-deployer-la-documentation","title":"Q: Comment d\u00e9ployer la documentation ?","text":"<p>R:</p> <pre><code># Build\nmkdocs build\n\n# D\u00e9ployer sur GitHub Pages\nmkdocs gh-deploy\n</code></pre>"},{"location":"troubleshooting/faq/#divers","title":"Divers","text":""},{"location":"troubleshooting/faq/#q-comment-changer-le-port-du-backend","title":"Q: Comment changer le port du backend ?","text":"<p>R:</p> <ol> <li><code>.env</code> : <code>PORT=3000</code></li> <li><code>docker-compose.yaml</code> : <code>ports: - 3000:3000</code></li> <li>Frontend <code>.env</code> : <code>VITE_API_URL=http://localhost:3000</code></li> </ol>"},{"location":"troubleshooting/faq/#q-puis-je-utiliser-ce-projet-en-production","title":"Q: Puis-je utiliser ce projet en production ?","text":"<p>R: Non, ce projet est p\u00e9dagogique :</p> <ul> <li>Pas d'authentification robuste</li> <li>Pas de gestion d'erreurs compl\u00e8te</li> <li>Pas de monitoring</li> <li>Pas de backup</li> <li>Secrets en clair dans certains fichiers</li> </ul> <p>Pour la production, il faudrait :</p> <ul> <li>G\u00e9rer les secrets avec Azure Key Vault</li> <li>Impl\u00e9menter un vrai syst\u00e8me d'auth (OAuth2, SAML)</li> <li>Ajouter du monitoring (Application Insights, Prometheus)</li> <li>Configurer les backups</li> <li>Impl\u00e9menter rate limiting</li> <li>Configurer HTTPS</li> <li>Et bien plus...</li> </ul>"},{"location":"troubleshooting/faq/#question-non-resolue","title":"Question non r\u00e9solue ?","text":"<p>Si votre question n'est pas dans cette FAQ :</p> <ol> <li>Cherchez dans les Issues GitHub</li> <li>Posez votre question dans Discussions</li> <li>Ouvrez une nouvelle issue avec le tag <code>question</code></li> </ol>"}]}